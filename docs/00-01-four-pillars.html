<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-10-14T11:47:44.8487"><title>Module 0 : Pour aller plus loin - Vers un Code Professionnel | Angular avancé</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction","level":0,"title":"Introduction","anchor":"#introduction"},{"id":"l-injection-de-d-pendances-moderne-avec-inject","level":0,"title":"L\u0027injection de dépendances moderne avec inject()","anchor":"#l-injection-de-d-pendances-moderne-avec-inject"},{"id":"g-rer-les-configurations-avec-les-fichiers-d-environnement","level":0,"title":"Gérer les Configurations avec les Fichiers d\u0027Environnement","anchor":"#g-rer-les-configurations-avec-les-fichiers-d-environnement"},{"id":"renforcer-votre-code-avec-typescript","level":0,"title":"Renforcer votre Code avec TypeScript","anchor":"#renforcer-votre-code-avec-typescript"},{"id":"exercice-0-2-refactoring-vers-un-code-professionnel","level":0,"title":"Exercice 0.2 : Refactoring vers un code professionnel","anchor":"#exercice-0-2-refactoring-vers-un-code-professionnel"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Module 0 : Pour aller plus loin - Vers un Code Professionnel | Angular avancé"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Angular avancé Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/00-01-four-pillars.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Module 0 : Pour aller plus loin - Vers un Code Professionnel | Angular avancé"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/00-01-four-pillars.html#webpage",
    "url": "writerside-documentation/00-01-four-pillars.html",
    "name": "Module 0 : Pour aller plus loin - Vers un Code Professionnel | Angular avancé",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Angular avancé Help"
}</script><!-- End Schema.org --></head><body data-id="00-01-four-pillars" data-main-title="Module 0 : Pour aller plus loin - Vers un Code Professionnel" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="00-intro.md|Module 0 : L'essentiel - Introduction et Rappels Clés"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Angular avancé  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="00-01-four-pillars" id="00-01-four-pillars.md">Module 0 : Pour aller plus loin - Vers un Code Professionnel</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h2><p id="-8ag2me_11">&Agrave; la fin de cette partie, vous aurez ajout&eacute; des cordes essentielles &agrave; votre arc de d&eacute;veloppeur professionnel :</p><ul class="list _bullet" id="-8ag2me_12"><li class="list__item" id="-8ag2me_13"><p id="-8ag2me_17"><span class="control" id="-8ag2me_18">Utiliser</span> la fonction <code class="code" id="-8ag2me_19">inject()</code> pour une injection de d&eacute;pendances plus flexible et moderne.</p></li><li class="list__item" id="-8ag2me_14"><p id="-8ag2me_20"><span class="control" id="-8ag2me_21">G&eacute;rer</span> les configurations sp&eacute;cifiques &agrave; chaque environnement (d&eacute;veloppement, production) avec les fichiers d'environnement.</p></li><li class="list__item" id="-8ag2me_15"><p id="-8ag2me_22"><span class="control" id="-8ag2me_23">Tirer parti</span> des fonctionnalit&eacute;s de TypeScript (Interfaces, Enums, <code class="code" id="-8ag2me_24">readonly</code>) pour &eacute;crire un code plus s&ucirc;r, plus lisible et plus maintenable.</p></li><li class="list__item" id="-8ag2me_16"><p id="-8ag2me_25"><span class="control" id="-8ag2me_26">Comprendre</span> la philosophie derri&egrave;re ces pratiques : &eacute;crire du code non seulement qui fonctionne, mais qui est aussi robuste et pr&ecirc;t pour le travail en &eacute;quipe.</p></li></ul></section><section class="chapter"><h2 id="introduction" data-toc="introduction">Introduction</h2><p id="-8ag2me_27">Si la partie &quot;L'essentiel&quot; nous a permis de v&eacute;rifier que le ch&acirc;ssis, le moteur et les roues de notre voiture &eacute;taient bien en place, cette partie &quot;Pour aller plus loin&quot; s'int&eacute;resse aux finitions qui font toute la diff&eacute;rence. Nous allons installer le tableau de bord, les ceintures de s&eacute;curit&eacute; et le GPS.</p><p id="-8ag2me_28">Ce ne sont pas des gadgets. Ce sont des outils et des habitudes de travail qui transforment un code fonctionnel en une application professionnelle. Ils garantissent la s&eacute;curit&eacute; (typage), la fiabilit&eacute; (gestion des configurations) et l'ergonomie (lisibilit&eacute; du code). Adopter ces pratiques d&egrave;s maintenant est l'un des investissements les plus rentables que vous puissiez faire dans votre carri&egrave;re de d&eacute;veloppeur.</p></section><section class="chapter"><h2 id="l-injection-de-d-pendances-moderne-avec-inject" data-toc="l-injection-de-d-pendances-moderne-avec-inject">L'injection de d&eacute;pendances moderne avec <code class="code" id="-8ag2me_40">inject()</code></h2><p id="-8ag2me_30">Vous connaissez d&eacute;j&agrave; l'injection via le <code class="code" id="-8ag2me_41">constructor</code>. C'est le m&eacute;canisme historique et il fonctionne parfaitement. Cependant, depuis l'av&egrave;nement des composants Standalone et des approches plus fonctionnelles, une nouvelle API a fait son apparition : la fonction <code class="code" id="-8ag2me_42">inject()</code>.</p><p id="-8ag2me_31">Elle permet d'obtenir une d&eacute;pendance directement dans le corps de la classe, sans passer par le constructeur.</p><p id="-8ag2me_32"><span class="control" id="-8ag2me_43">Avant (avec le constructeur) :</span></p><div class="code-block" data-lang="ts">
import {Component} from '@angular/core';
import {UserService} from './user.service';

@Component({...})
export class UserComponent {
    // Déclaration de la propriété
    private userService: UserService;

    // Injection et assignation dans le constructeur
    constructor(userService: UserService) {
        this.userService = userService;
    }
}
</div><p id="-8ag2me_34">Ou sa version courte :</p><div class="code-block" data-lang="ts">
import {Component} from '@angular/core';
import {UserService} from './user.service';

@Component({...})
export class UserComponent {
    // Injection et déclaration en une seule ligne
    constructor(private userService: UserService) {
    }
}
</div><p id="-8ag2me_36"><span class="control" id="-8ag2me_44">Maintenant (avec <code class="code" id="-8ag2me_45">inject()</code>) :</span></p><div class="code-block" data-lang="ts">
import {Component, inject} from '@angular/core';
import {UserService} from './user.service';

@Component({...})
export class UserComponent {
    // Injection directe dans la propriété de la classe
    private userService = inject(UserService);
}
</div><aside class="prompt" data-type="warning" data-title="" id="-8ag2me_38"><p>**Quand utiliser `inject()` ?** La fonction `inject()` doit &ecirc;tre appel&eacute;e dans un **contexte d'injection**, c'est-&agrave;-dire lors de l'initialisation d'une propri&eacute;t&eacute; de classe, dans le constructeur, ou dans les &quot;factory&quot; des providers. Vous ne pouvez pas l'appeler plus tard dans une m&eacute;thode comme `ngOnInit()` ou un gestionnaire de clic.</p></aside><p id="-8ag2me_39">L'avantage principal est une syntaxe plus concise et une plus grande flexibilit&eacute; pour des cas d'usage avanc&eacute;s (comme les <code class="code" id="-8ag2me_46">Route Guards</code> fonctionnels) que nous verrons plus tard. Pour l'instant, voyez-la comme la mani&egrave;re moderne et &eacute;l&eacute;gante de r&eacute;aliser l'injection de d&eacute;pendances.</p></section><section class="chapter"><h2 id="g-rer-les-configurations-avec-les-fichiers-d-environnement" data-toc="g-rer-les-configurations-avec-les-fichiers-d-environnement">G&eacute;rer les Configurations avec les Fichiers d'Environnement</h2><p id="-8ag2me_47">Imaginez : votre API de d&eacute;veloppement tourne sur <code class="code" id="-8ag2me_59">http://localhost:3000</code>. L'API de production, elle, est sur <code class="code" id="-8ag2me_60">https://api.monsupersite.com</code>. Allez-vous changer l'URL manuellement dans votre <code class="code" id="-8ag2me_61">DataService</code> avant chaque d&eacute;ploiement ? Certainement pas ! C'est une recette pour l'erreur humaine.</p><p id="-8ag2me_48">Angular CLI nous offre une solution &eacute;l&eacute;gante : les fichiers d'environnement.</p><p id="-8ag2me_49">Dans le dossier <code class="code" id="-8ag2me_62">src/environments/</code>, vous trouverez deux fichiers :</p><ul class="list _bullet" id="-8ag2me_50"><li class="list__item" id="-8ag2me_63"><p id="-8ag2me_65"><code class="code" id="-8ag2me_66">environment.ts</code>: Pour le d&eacute;veloppement.</p></li><li class="list__item" id="-8ag2me_64"><p id="-8ag2me_67"><code class="code" id="-8ag2me_68">environment.prod.ts</code>: Pour la production (ou tout autre environnement que vous configurez).</p></li></ul><p id="-8ag2me_51"><span class="control" id="-8ag2me_69"><code class="code" id="-8ag2me_70">src/environments/environment.ts</code></span></p><div class="code-block" data-lang="ts">
export const environment = {
    production: false,
    apiUrl: 'http://localhost:3000/api'
};
</div><p id="-8ag2me_53"><span class="control" id="-8ag2me_71"><code class="code" id="-8ag2me_72">src/environments/environment.prod.ts</code></span></p><div class="code-block" data-lang="ts">
export const environment = {
    production: true,
    apiUrl: 'https://api.monsupersite.com/api'
};
</div><p id="-8ag2me_55">Ensuite, dans votre service, il vous suffit d'importer l'objet <code class="code" id="-8ag2me_73">environment</code>:</p><div class="code-block" data-lang="ts">
import {Injectable, inject} from '@angular/core';
import {HttpClient} from '@angular/common/http';
import {environment} from '../../environments/environment';

@Injectable({providedIn: 'root'})
export class ProductService {
    private http = inject(HttpClient);
    private apiUrl = environment.apiUrl; // Utilisation de la variable

    getProducts() {
        return this.http.get(`${this.apiUrl}/products`);
    }
}
</div><p id="-8ag2me_57"><span class="control" id="-8ag2me_74">Comment &ccedil;a marche ?</span> La magie op&egrave;re au moment du build. Dans le fichier <code class="code" id="-8ag2me_75">angular.json</code>, une configuration sp&eacute;cifie que lorsque vous lancez <code class="code" id="-8ag2me_76">ng build</code> (qui par d&eacute;faut est en mode production), Angular remplacera l'import de <code class="code" id="-8ag2me_77">environment.ts</code> par celui de <code class="code" id="-8ag2me_78">environment.prod.ts</code>.</p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="334px" preserveAspectRatio="none" style="width:788px;height:334px;background:#FFFFFF;" version="1.1" viewBox="0 0 788 334" width="788px" zoomAndPan="magnify"><defs/><g><!--cluster D?veloppement (`ng serve`)--><g id="cluster_D&#233;veloppement (`ng serve`)"><path d="M9.5,14 L214.5,14 A5.25,5.25 0 0 1 218,17.5 L225,36.4883 L289.5,36.4883 A3.5,3.5 0 0 1 293,39.9883 L293,316.48 A3.5,3.5 0 0 1 289.5,319.98 L9.5,319.98 A3.5,3.5 0 0 1 6,316.48 L6,17.5 A3.5,3.5 0 0 1 9.5,14 " fill="none" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="6" x2="225" y1="36.4883" y2="36.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="206" x="10" y="29.5352">D&#233;veloppement (`ng serve`)</text></g><!--cluster Production (`ng build`)--><g id="cluster_Production (`ng build`)"><path d="M343.5,214.49 L513.5,214.49 A5.25,5.25 0 0 1 517,217.99 L524,236.9783 L583.5,236.9783 A3.5,3.5 0 0 1 587,240.4783 L587,324.48 A3.5,3.5 0 0 1 583.5,327.98 L343.5,327.98 A3.5,3.5 0 0 1 340,324.48 L340,217.99 A3.5,3.5 0 0 1 343.5,214.49 " fill="none" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="340" x2="524" y1="236.9783" y2="236.9783"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="171" x="344" y="230.0252">Production (`ng build`)</text></g><!--cluster an_json--><g id="cluster_an_json"><polygon fill="none" points="399,16,409,6,602,6,602,104.49,592,114.49,399,114.49,399,16" style="stroke:#696969;stroke-width:1.0;"/><line style="stroke:#696969;stroke-width:1.0;" x1="592" x2="602" y1="16" y2="6"/><line style="stroke:#696969;stroke-width:1.0;" x1="399" x2="592" y1="16" y2="16"/><line style="stroke:#696969;stroke-width:1.0;" x1="592" x2="592" y1="16" y2="114.49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="88" x="452.5" y="32.5352">angular.json</text></g><!--entity Code applicatif--><g id="elem_Code applicatif"><rect fill="#F1F1F1" height="46.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="77.5" y="49"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="200.5" y="54"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="198.5" y="56"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="198.5" y="60"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="92.5" y="82.5352">Code applicatif</text></g><!--entity environment.ts--><g id="elem_environment.ts"><rect fill="#F1F1F1" height="46.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="21.5" y="257.49"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="144.5" y="262.49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="142.5" y="264.49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="142.5" y="268.49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="36.5" y="291.0252">environment.ts</text></g><!--entity environment.prod.ts--><g id="elem_environment.prod.ts"><rect fill="#F1F1F1" height="46.4883" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="180" x="364" y="257.49"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="524" y="262.49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="522" y="264.49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="522" y="268.49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="379" y="291.0252">environment.prod.ts</text></g><!--entity fr--><g id="elem_fr"><path d="M423,57.5 L423,86.9883 A3.5,3.5 0 0 0 426.5,90.4883 L555.5,90.4883 A3.5,3.5 0 0 0 559,86.9883 L559,64 L549,54 L426.5,54 A3.5,3.5 0 0 0 423,57.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M549,54 L549,60.5 A3.5,3.5 0 0 0 552.5,64 L559,64 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="433" y="77.5352">fileReplacements</text></g><!--link Code applicatif to environment.ts--><g id="link_Code applicatif_environment.ts"><path d="M97.8,95.91 C80.68,106.27 63.55,120.34 54,138.49 C33.5,177.44 55.2961,223.1897 73.6761,252.0397 " fill="none" id="Code applicatif-to-environment.ts" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="76.9,257.1,75.4377,247.3603,74.2134,252.8831,68.6907,251.6588,76.9,257.1" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="139.5" y="152.0584">importe</text><path d="M59,164.3005 L59,182.3005 A3.5,3.5 0 0 0 62.5,185.8005 L265.5,185.8005 A3.5,3.5 0 0 0 269,182.3005 L269,170.8005 L259,160.8005 L62.5,160.8005 A3.5,3.5 0 0 0 59,164.3005 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M259,160.8005 L259,169.0505 A1.75,1.75 0 0 0 260.75,170.8005 L269,170.8005 L259,160.8005 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="65" y="178.3689">apiUrl: 'http://localhost:3000'</text></g><!--link Code applicatif to environment.prod.ts--><g id="link_Code applicatif_environment.prod.ts"><path d="M200.06,95.85 C224.37,107.41 253.42,122.42 278,138.49 C308.39,158.36 312.75,167.68 341,190.49 C369.4,213.42 397.436,235.5208 420.346,253.4608 " fill="none" id="Code applicatif-to-environment.prod.ts" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="425.07,257.16,420.4501,248.4619,421.1333,254.0773,415.5179,254.7605,425.07,257.16" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="435" y="152.0584">importe</text><path d="M346,164.3005 L346,182.3005 A3.5,3.5 0 0 0 349.5,185.8005 L569.5,185.8005 A3.5,3.5 0 0 0 573,182.3005 L573,170.8005 L563,160.8005 L349.5,160.8005 A3.5,3.5 0 0 0 346,164.3005 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><path d="M563,160.8005 L563,169.0505 A1.75,1.75 0 0 0 564.75,170.8005 L573,170.8005 L563,160.8005 " fill="#7FFFD4" style="stroke:#454645;stroke-width:1.5;"/><text fill="#454645" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="352" y="178.3689">apiUrl: 'https://api.my-app.com'</text></g><!--link an_json to Production (`ng build`)--><g id="link_an_json_Production (`ng build`)"><path d="M590.9806,114.8026 C590.7942,117.3676 590.602,120.0129 590.4049,122.727 C590.0105,128.1551 589.5961,133.8582 589.1685,139.7446 C588.3132,151.5174 587.4047,164.0234 586.4962,176.5288 C585.5878,189.0341 584.6795,201.5387 583.8245,213.3087 C583.7978,213.6765 584.2058,208.0594 584.1792,208.4257 " fill="none" id="an_json-to-Production (`ng build`)" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="583.7445,214.41,588.386,205.7234,584.1067,209.4231,580.407,205.1438,583.7445,214.41" style="stroke:#454645;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="590.15" y="169.5584">instruit de remplacer le fichier</text></g><!--SRC=[bP0nJWCn44Lxds9m4oZOH22QBMZ20H0ILHIHYNUI7U8TMsFlIWXn8Cx1nR1NeaY118rbMVFVFF-BtDD0CF5UKR999vQ8YWCekOnoz0JlHiCetJgeaCBDdVam9g8xuP70FdnzJkH3Z8KY6IvtSeH4Ej7kofRaPXqw0epHiyFCXoqqpJriI2RM83NIvBI55YmFCMWcQoHaWY3WMKu68p-hRs7HvnpRvT87XxuFARUtgzLgOKWwg84pfqSDtUWo5yZiin_PTt_sYINz3wbKhCf3CxnT5spZmd1k9NMXBKsE7hLvJK4iO0AKbtelIWSk7TjwFb7qwEOYqpnqq4hu6Qscl_-jsahAEdA6ib5fc64AXNvWrpEf_GO0]--></g></svg></div></section><section class="chapter"><h2 id="renforcer-votre-code-avec-typescript" data-toc="renforcer-votre-code-avec-typescript">Renforcer votre Code avec TypeScript</h2><p id="-8ag2me_79">TypeScript est bien plus qu'un simple &quot;JavaScript avec des types&quot;. C'est un outil puissant pour construire des applications robustes. Voici trois fonctionnalit&eacute;s que vous devriez utiliser syst&eacute;matiquement.</p><div class="tabs" id="-8ag2me_80" data-anchors="[-8ag2me_81,-8ag2me_82,-8ag2me_83]"><div class="tabs__content" data-gtm="tab" id="-8ag2me_81" data-title="Interfaces et Types"><p id="-8ag2me_84">Ne laissez jamais une structure de donn&eacute;es complexe &ecirc;tre de type <code class="code" id="-8ag2me_87">any</code>. D&eacute;finir une <code class="code" id="-8ag2me_88">interface</code> ou un <code class="code" id="-8ag2me_89">type</code> pour vos mod&egrave;les de donn&eacute;es offre des avantages consid&eacute;rables :</p><ul class="list _bullet" id="-8ag2me_85"><li class="list__item" id="-8ag2me_90"><p id="-8ag2me_93"><span class="control" id="-8ag2me_94">Autocompl&eacute;tion</span> dans votre &eacute;diteur de code.</p></li><li class="list__item" id="-8ag2me_91"><p id="-8ag2me_95"><span class="control" id="-8ag2me_96">D&eacute;tection d'erreurs &agrave; la compilation</span> (ex: vous avez &eacute;crit <code class="code" id="-8ag2me_97">produit.titel</code> au lieu de <code class="code" id="-8ag2me_98">produit.title</code>).</p></li><li class="list__item" id="-8ag2me_92"><p id="-8ag2me_99"><span class="control" id="-8ag2me_100">Code auto-document&eacute;</span>: une <code class="code" id="-8ag2me_101">interface</code> d&eacute;crit la forme exacte de l'objet attendu.</p></li></ul><div class="code-block" data-lang="ts" data-title="TypeScript">
// AVANT : Risqué et peu clair
function processProduct(product: any): void {
    console.log(product.name.toUpperCase()); // Et si name n'existe pas ?
}

// APRÈS : Sûr et explicite
export interface Product {
    id: number;
    name: string;
    price: number;
    description?: string; // La propriété est optionnelle
}

function processProduct(product: Product): void {
    console.log(product.name.toUpperCase()); // Garanti d'exister !
}
</div></div><div class="tabs__content" data-gtm="tab" id="-8ag2me_82" data-title="Enums"><p id="-8ag2me_102">Quand vous avez une propri&eacute;t&eacute; qui ne peut prendre qu'un nombre limit&eacute; de valeurs textuelles (un statut, une cat&eacute;gorie...), utilisez un <code class="code" id="-8ag2me_105">enum</code> au lieu de simples cha&icirc;nes de caract&egrave;res (&quot;magic strings&quot;).</p><ul class="list _bullet" id="-8ag2me_103"><li class="list__item" id="-8ag2me_106"><p id="-8ag2me_109"><span class="control" id="-8ag2me_110">&Eacute;vite les fautes de frappe</span>: <code class="code" id="-8ag2me_111">Status.PUBLISHED</code> est plus s&ucirc;r que <code class="code" id="-8ag2me_112">&quot;published&quot;</code>.</p></li><li class="list__item" id="-8ag2me_107"><p id="-8ag2me_113"><span class="control" id="-8ag2me_114">Centralise les valeurs possibles</span>: Si vous devez ajouter un statut, vous ne le modifiez qu'&agrave; un seul endroit.</p></li><li class="list__item" id="-8ag2me_108"><p id="-8ag2me_115"><span class="control" id="-8ag2me_116">Am&eacute;liore la lisibilit&eacute;</span> du code.</p></li></ul><div class="code-block" data-lang="ts" data-title="TypeScript">
// AVANT : Fragile
function publish(status: string) {
    if (status === 'PUBLISHED') { /* ... */
    } // faute de frappe possible
}

publish('PUBLIHSED'); // Oups ! Pas d'erreur...

// APRÈS : Robuste
export enum ArticleStatus {
    DRAFT = 'DRAFT',
    PUBLISHED = 'PUBLISHED',
    ARCHIVED = 'ARCHIVED',
}

function publish(status: ArticleStatus) {
    if (status === ArticleStatus.PUBLISHED) { /* ... */
    }
}

// Erreur détectée par TypeScript !
// publish(ArticleStatus.PUBLIHSED); 
</div></div><div class="tabs__content" data-gtm="tab" id="-8ag2me_83" data-title="Immutabilit&eacute; avec `readonly`"><p id="-8ag2me_117">Le mot-cl&eacute; <code class="code" id="-8ag2me_120">readonly</code> vous permet de d&eacute;clarer une propri&eacute;t&eacute; qui ne peut &ecirc;tre assign&eacute;e qu'au moment de sa d&eacute;claration ou dans le constructeur. Une fois assign&eacute;e, elle ne peut plus &ecirc;tre modifi&eacute;e.</p><p id="-8ag2me_118">C'est une premi&egrave;re &eacute;tape douce vers le concept d' <span class="control" id="-8ag2me_121">immutabilit&eacute;</span>, qui est crucial pour les optimisations de performance (<code class="code" id="-8ag2me_122">OnPush</code>) et la gestion d'&eacute;tat (NgRx) que nous verrons plus tard.</p><div class="code-block" data-lang="ts" data-title="TypeScript">
export interface User {
    readonly id: number; // L'ID ne doit jamais changer
    name: string;
}

const user: User = {id: 1, name: 'John Doe'};

user.name = 'Jane Doe'; // OK

// Erreur TypeScript : Impossible d'assigner à 'id' car 
// c'est une propriété en lecture seule.
// user.id = 2; 
</div></div></div></section><section class="chapter"><h2 id="exercice-0-2-refactoring-vers-un-code-professionnel" data-toc="exercice-0-2-refactoring-vers-un-code-professionnel">Exercice 0.2 : Refactoring vers un code professionnel</h2><p id="-8ag2me_123"><span class="control" id="-8ag2me_132">Objectif :</span> Reprendre un code simple et appliquer les trois concepts que nous venons de voir.</p><p id="-8ag2me_124"><span class="control" id="-8ag2me_133">Sc&eacute;nario de d&eacute;part :</span> Vous avez un service et un composant qui affichent des &quot;notifications&quot;. Le code fonctionne, mais il n'est pas robuste.</p><p id="-8ag2me_125"><code class="code" id="-8ag2me_134">notification.service.ts</code> (d&eacute;part)</p><div class="code-block" data-lang="ts">
import {Injectable} from '@angular/core';
import {of} from 'rxjs';

@Injectable({providedIn: 'root'})
export class NotificationService {
    getNotifications() {
        // L'URL est en dur !
        console.log('Fetching from /api/notifications');
        return of([
            {id: 101, text: 'Maintenance prévue', type: 'info'},
            {id: 102, text: 'Votre rapport est prêt', type: 'success'}
        ]);
    }
}
</div><p id="-8ag2me_127"><code class="code" id="-8ag2me_135">notification-list.component.ts</code> (d&eacute;part)</p><div class="code-block" data-lang="ts">
import {Component, OnInit} from '@angular/core';
import {NotificationService} from '../notification.service';
import {CommonModule} from '@angular/common';

@Component({
    selector: 'app-notification-list',
    standalone: true,
    imports: [CommonModule],
    template: `
    &lt;ul&gt;
      &lt;li *ngFor=&quot;let n of notifications&quot;&gt;
        {{ n.text }} (Type: {{ n.type }})
      &lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class NotificationListComponent implements OnInit {
    notifications: any[] = [];

    constructor(private notificationService: NotificationService) {
    }

    ngOnInit() {
        this.notificationService.getNotifications()
            .subscribe(data =&gt; this.notifications = data);
    }
}
</div><p id="-8ag2me_129"><span class="control" id="-8ag2me_136">Votre mission :</span></p><ol class="list _decimal" id="-8ag2me_130" type="1"><li class="list__item" id="-8ag2me_137"><p id="-8ag2me_141"><span class="control" id="-8ag2me_143">Cr&eacute;ez un fichier <code class="code" id="-8ag2me_144">notification.model.ts</code></span>:</p><ul class="list _bullet" id="-8ag2me_142"><li class="list__item" id="-8ag2me_145"><p id="-8ag2me_147">D&eacute;finissez un <code class="code" id="-8ag2me_148">enum</code> <code class="code" id="-8ag2me_149">NotificationType</code> avec les valeurs <code class="code" id="-8ag2me_150">INFO</code>, <code class="code" id="-8ag2me_151">SUCCESS</code>, <code class="code" id="-8ag2me_152">WARNING</code>, <code class="code" id="-8ag2me_153">ERROR</code>.</p></li><li class="list__item" id="-8ag2me_146"><p id="-8ag2me_154">D&eacute;finissez une <code class="code" id="-8ag2me_155">interface</code> <code class="code" id="-8ag2me_156">Notification</code> avec les propri&eacute;t&eacute;s <code class="code" id="-8ag2me_157">id</code> (nombre, en lecture seule), <code class="code" id="-8ag2me_158">text</code> (cha&icirc;ne) et <code class="code" id="-8ag2me_159">type</code> (utilisant l'enum <code class="code" id="-8ag2me_160">NotificationType</code>).</p></li></ul></li><li class="list__item" id="-8ag2me_138"><p id="-8ag2me_161"><span class="control" id="-8ag2me_162">Modifiez les fichiers d'environnement</span> pour y inclure une <code class="code" id="-8ag2me_163">apiUrl</code>.</p></li><li class="list__item" id="-8ag2me_139"><p id="-8ag2me_164"><span class="control" id="-8ag2me_166">Refactorez <code class="code" id="-8ag2me_167">NotificationService</code></span>:</p><ul class="list _bullet" id="-8ag2me_165"><li class="list__item" id="-8ag2me_168"><p id="-8ag2me_170">Il doit utiliser l'URL de l'environnement (m&ecirc;me si nous la simulons pour l'instant).</p></li><li class="list__item" id="-8ag2me_169"><p id="-8ag2me_171">La m&eacute;thode <code class="code" id="-8ag2me_172">getNotifications()</code> doit retourner un <code class="code" id="-8ag2me_173">Observable&lt;Notification[]&gt;</code>.</p></li></ul></li><li class="list__item" id="-8ag2me_140"><p id="-8ag2me_174"><span class="control" id="-8ag2me_176">Refactorez <code class="code" id="-8ag2me_177">NotificationListComponent</code></span>:</p><ul class="list _bullet" id="-8ag2me_175"><li class="list__item" id="-8ag2me_178"><p id="-8ag2me_180">Utilisez la fonction <code class="code" id="-8ag2me_181">inject()</code> pour obtenir le service.</p></li><li class="list__item" id="-8ag2me_179"><p id="-8ag2me_182">Le tableau <code class="code" id="-8ag2me_183">notifications</code> doit &ecirc;tre typ&eacute; correctement avec <code class="code" id="-8ag2me_184">Notification[]</code>.</p></li></ul></li></ol><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-exercice-0-2" data-toc="correction-exercice-0-2">Correction exercice 0.2</h3></div><div class="collapse__content"><section class="procedure-steps" id="-8ag2me_185"><p id="-8ag2me_186">Voici le code refactoris&eacute;, appliquant toutes les bonnes pratiques demand&eacute;es.</p><p id="-8ag2me_187"><span class="control" id="-8ag2me_201">1. Fichiers d'environnement</span></p><p id="-8ag2me_188"><code class="code" id="-8ag2me_202">src/environments/environment.ts</code></p><div class="code-block" data-lang="ts">
export const environment = {
    production: false,
    apiUrl: 'http://localhost:4200/api'
};
</div><p id="-8ag2me_190"><code class="code" id="-8ag2me_203">src/environments/environment.prod.ts</code></p><div class="code-block" data-lang="ts">
export const environment = {
    production: true,
    apiUrl: 'https://prod.server.com/api'
};
</div><p id="-8ag2me_192"><span class="control" id="-8ag2me_204">2. Le nouveau mod&egrave;le de donn&eacute;es</span></p><p id="-8ag2me_193"><code class="code" id="-8ag2me_205">src/app/notification.model.ts</code></p><div class="code-block" data-lang="ts">
// Définit les types de notifications possibles de manière sûre.
export enum NotificationType {
    INFO = 'info',
    SUCCESS = 'success',
    WARNING = 'warning',
    ERROR = 'error',
}

// Décrit la structure d'une notification.
export interface Notification {
    readonly id: number; // L'ID ne pourra pas être modifié.
    text: string;
    type: NotificationType;
}
</div><p id="-8ag2me_195"><span class="control" id="-8ag2me_206">3. Le service refactoris&eacute;</span></p><p id="-8ag2me_196"><code class="code" id="-8ag2me_207">src/app/notification.service.ts</code></p><div class="code-block" data-lang="ts">
import {Injectable, inject} from '@angular/core';
import {Observable, of} from 'rxjs';
import {environment} from '../environments/environment';
import {Notification, NotificationType} from './notification.model';

@Injectable({
    providedIn: 'root'
})
export class NotificationService {
    private apiUrl = environment.apiUrl;

    // La méthode est maintenant typée et retourne un Observable du bon type.
    getNotifications(): Observable&lt;Notification[]&gt; {
        console.log(`Fetching from ${this.apiUrl}/notifications`);

        // Les données simulées respectent maintenant notre modèle.
        const mockNotifications: Notification[] = [
            {
                id: 101,
                text: 'Maintenance prévue à 2h du matin.',
                type: NotificationType.INFO
            },
            {
                id: 102,
                text: 'Votre rapport a été généré avec succès.',
                type: NotificationType.SUCCESS
            }
        ];
        return of(mockNotifications);
    }
}
</div><p id="-8ag2me_198"><span class="control" id="-8ag2me_208">4. Le composant refactoris&eacute;</span></p><p id="-8ag2me_199"><code class="code" id="-8ag2me_209">src/app/notification-list/notification-list.component.ts</code></p><div class="code-block" data-lang="ts">
import {Component, OnInit, inject} from '@angular/core';
import {CommonModule} from '@angular/common';
import {Observable} from 'rxjs';
import {NotificationService} from '../notification.service';
import {Notification} from '../notification.model';

@Component({
    selector: 'app-notification-list',
    standalone: true,
    imports: [CommonModule],
    template: `
    &lt;h3&gt;Notifications&lt;/h3&gt;
    &lt;ul&gt;
      &lt;!-- On utilise le pipe async pour une gestion plus propre --&gt;
      &lt;li *ngFor=&quot;let n of notifications$ | async&quot;&gt;
        {{ n.text }} (Type: {{ n.type }})
      &lt;/li&gt;
    &lt;/ul&gt;
  `
})
export class NotificationListComponent implements OnInit {
    // Injection de dépendances moderne.
    private notificationService = inject(NotificationService);

    // La propriété est un Observable, ce qui est une bonne pratique.
    // Elle est correctement typée.
    notifications$!: Observable&lt;Notification[]&gt;;

    ngOnInit() {
        this.notifications$ = this.notificationService.getNotifications();
    }
}
</div><ol class="list _decimal"></ol></section></div></div></section></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="-8ag2me_210" type="1"><li class="list__item" id="-8ag2me_211"><p id="-8ag2me_216"><span class="control" id="-8ag2me_217">Laquelle de ces affirmations concernant la fonction <code class="code" id="-8ag2me_218">inject()</code> est FAUSSE ?</span> a. Elle doit &ecirc;tre appel&eacute;e dans un contexte d'injection (ex: initialisation de propri&eacute;t&eacute;). b. Elle peut remplacer compl&egrave;tement l'injection par constructeur. c. Elle peut &ecirc;tre appel&eacute;e &agrave; n'importe quel moment dans le cycle de vie d'un composant, y compris dans une m&eacute;thode d&eacute;clench&eacute;e par un clic. d. Elle offre une syntaxe plus concise.</p></li><li class="list__item" id="-8ag2me_212"><p id="-8ag2me_219"><span class="control" id="-8ag2me_220">Expliquez en deux phrases le m&eacute;canisme qui permet &agrave; une application Angular d'utiliser une URL d'API diff&eacute;rente en d&eacute;veloppement et en production.</span></p></li><li class="list__item" id="-8ag2me_213"><p id="-8ag2me_221"><span class="control" id="-8ag2me_222">Quel est le principal b&eacute;n&eacute;fice de l'utilisation d'une <code class="code" id="-8ag2me_223">interface</code> TypeScript pour mod&eacute;liser les donn&eacute;es re&ccedil;ues d'une API ?</span> a. Cela acc&eacute;l&egrave;re les appels HTTP. b. Cela garantit la s&eacute;curit&eacute; des donn&eacute;es sur le serveur. c. Cela fournit une v&eacute;rification de type &agrave; la compilation et am&eacute;liore l'aide au d&eacute;veloppement (autocompl&eacute;tion). d. Cela compresse automatiquement les donn&eacute;es JSON.</p></li><li class="list__item" id="-8ag2me_214"><p id="-8ag2me_224"><span class="control" id="-8ag2me_225">Vous travaillez sur une entit&eacute; <code class="code" id="-8ag2me_226">Order</code> (commande) et vous voulez vous assurer que sa propri&eacute;t&eacute; <code class="code" id="-8ag2me_227">creationDate</code> ne soit jamais modifi&eacute;e apr&egrave;s son assignation initiale. Quel mot-cl&eacute; TypeScript utiliseriez-vous sur cette propri&eacute;t&eacute; dans l'interface <code class="code" id="-8ag2me_228">Order</code>?</span></p></li><li class="list__item" id="-8ag2me_215"><p id="-8ag2me_229"><span class="control" id="-8ag2me_230">Quel fichier de configuration d'un projet Angular CLI est responsable de la gestion du remplacement des fichiers d' environnement ?</span> a. <code class="code" id="-8ag2me_231">package.json</code> b. <code class="code" id="-8ag2me_232">tsconfig.json</code> c. <code class="code" id="-8ag2me_233">angular.json</code> d. <code class="code" id="-8ag2me_234">ng.conf</code></p></li></ol></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="-8ag2me_235">F&eacute;licitations ! Vous venez de faire un grand pas en avant. En ma&icirc;trisant l'injection via <code class="code" id="-8ag2me_237">inject()</code>, la gestion des environnements et un typage rigoureux avec TypeScript, vous avez adopt&eacute; les r&eacute;flexes d'un d&eacute;veloppeur soucieux de la qualit&eacute;. Ce sont ces d&eacute;tails qui, mis bout &agrave; bout, font la diff&eacute;rence entre une application qui fonctionne &quot;pour l'instant&quot; et une application robuste, pr&ecirc;te &agrave; &eacute;voluer et &agrave; &ecirc;tre maintenue par une &eacute;quipe.</p><p id="-8ag2me_236">Ces bases solides vont nous &ecirc;tre indispensables pour la suite. Maintenant que nous savons comment structurer notre code de mani&egrave;re propre et professionnelle, nous sommes pr&ecirc;ts &agrave; nous attaquer &agrave; un sujet puissant et central dans l'&eacute;cosyst&egrave;me Angular : la programmation r&eacute;active. Dans le prochain module, nous plongerons au c&oelig;ur de <span class="control" id="-8ag2me_238">RxJS</span> pour apprendre &agrave; ma&icirc;triser les flux de donn&eacute;es comme jamais auparavant.</p></section><div class="last-modified">12 octobre 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="00-intro.html" class="navigation-links__prev">Module 0 : L'essentiel - Introduction et Rappels Cl&eacute;s</a><a href="001-00-rxjs.html" class="navigation-links__next">Module 1 : L'essentiel - Ma&icirc;trise de RxJS, le c&oelig;ur r&eacute;actif d'Angular</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>