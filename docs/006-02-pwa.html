<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-10-14T07:14:24.525006"><title>Module 6, Partie C : Build, D&eacute;ploiement et Progressive Web Apps (PWA) | Angular avancé</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction","level":0,"title":"Introduction","anchor":"#introduction"},{"id":"1-build-de-production-ng-build","level":0,"title":"1. Build de Production : ng build","anchor":"#1-build-de-production-ng-build"},{"id":"2-strat-gies-de-d-ploiement","level":0,"title":"2. Stratégies de Déploiement","anchor":"#2-strat-gies-de-d-ploiement"},{"id":"3-transformer-son-app-en-pwa","level":0,"title":"3. Transformer son App en PWA","anchor":"#3-transformer-son-app-en-pwa"},{"id":"exercice-6-3-builder-d-ployer-localement-et-transformer-en-pwa","level":0,"title":"Exercice 6.3 : Builder, déployer localement et transformer en PWA","anchor":"#exercice-6-3-builder-d-ployer-localement-et-transformer-en-pwa"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion","level":0,"title":"Conclusion","anchor":"#conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Module 6, Partie C : Build, D&eacute;ploiement et Progressive Web Apps (PWA) | Angular avancé"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Angular avancé Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/006-02-pwa.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Module 6, Partie C : Build, D&eacute;ploiement et Progressive Web Apps (PWA) | Angular avancé"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/006-02-pwa.html#webpage",
    "url": "writerside-documentation/006-02-pwa.html",
    "name": "Module 6, Partie C : Build, D&eacute;ploiement et Progressive Web Apps (PWA) | Angular avancé",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Angular avancé Help"
}</script><!-- End Schema.org --></head><body data-id="006-02-pwa" data-main-title="Module 6, Partie C : Build, Déploiement et Progressive Web Apps (PWA)" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="006-00-dynamic-components.md|Module 6, Partie A : Intégration d'un Design System et Composants Dynamiques"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Angular avancé  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="006-02-pwa" id="006-02-pwa.md">Module 6, Partie C : Build, Déploiement et Progressive Web Apps (PWA)</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h2><p id="-ywfzaj_11">&Agrave; la fin de cette partie, vous serez capable de :</p><ul class="list _bullet" id="-ywfzaj_12"><li class="list__item" id="-ywfzaj_13"><p id="-ywfzaj_18"><span class="control" id="-ywfzaj_19">Lancer</span> un build de production optimis&eacute; avec <code class="code" id="-ywfzaj_20">ng build</code>.</p></li><li class="list__item" id="-ywfzaj_14"><p id="-ywfzaj_21"><span class="control" id="-ywfzaj_22">Expliquer</span> les optimisations cl&eacute;s appliqu&eacute;es par Angular (minification, tree-shaking).</p></li><li class="list__item" id="-ywfzaj_15"><p id="-ywfzaj_23"><span class="control" id="-ywfzaj_24">D&eacute;ployer</span> votre application sur un serveur statique.</p></li><li class="list__item" id="-ywfzaj_16"><p id="-ywfzaj_25"><span class="control" id="-ywfzaj_26">Diagnostiquer</span> et <span class="control" id="-ywfzaj_27">r&eacute;soudre</span> le probl&egrave;me de rafra&icirc;chissement (F5) sur les routes.</p></li><li class="list__item" id="-ywfzaj_17"><p id="-ywfzaj_28"><span class="control" id="-ywfzaj_29">Transformer</span> votre application en une Progressive Web App (PWA) installable et fonctionnant hors-ligne avec <code class="code" id="-ywfzaj_30">ng add @angular/pwa</code>.</p></li></ul></section><section class="chapter"><h2 id="introduction" data-toc="introduction">Introduction</h2><p id="-ywfzaj_31">F&eacute;licitations ! Vous avez construit une application incroyable. Elle est bien architectur&eacute;e, performante, s&eacute;curis&eacute;e, et m&ecirc;me temps r&eacute;el. Elle tourne &agrave; merveille sur votre machine de d&eacute;veloppement. Mais maintenant, vient le moment de v&eacute;rit&eacute; : la mettre au monde, la rendre accessible &agrave; vos utilisateurs.</p><p id="-ywfzaj_32">C'est comme avoir pass&eacute; des mois &agrave; construire une voiture de course dans votre garage. Il est temps de la sortir sur le circuit. Cela implique plusieurs &eacute;tapes cruciales :</p><ol class="list _decimal" id="-ywfzaj_33" type="1"><li class="list__item" id="-ywfzaj_35"><p id="-ywfzaj_38"><span class="control" id="-ywfzaj_39">La Pr&eacute;paration pour la Course (<code class="code" id="-ywfzaj_40">ng build</code>) :</span> On enl&egrave;ve tout le superflu, on optimise le moteur, on v&eacute;rifie chaque boulon. On veut la version la plus l&eacute;g&egrave;re et la plus rapide possible de notre application.</p></li><li class="list__item" id="-ywfzaj_36"><p id="-ywfzaj_41"><span class="control" id="-ywfzaj_42">Le Transport sur le Circuit (D&eacute;ploiement) :</span> Comment amener notre voiture (nos fichiers) sur le circuit (le serveur) et s'assurer qu'elle se comporte bien ?</p></li><li class="list__item" id="-ywfzaj_37"><p id="-ywfzaj_43"><span class="control" id="-ywfzaj_44">L'Am&eacute;lioration Ultime (PWA) :</span> Comment donner &agrave; notre voiture des super-pouvoirs, comme la capacit&eacute; de rouler m&ecirc;me si la route dispara&icirc;t (mode hors-ligne) et de se garer directement sur le bureau de l'utilisateur (installation) ?</p></li></ol><p id="-ywfzaj_34">Cette partie est la derni&egrave;re &eacute;tape pour passer d'un projet de d&eacute;veloppement &agrave; un produit professionnel livr&eacute; aux utilisateurs.</p></section><section class="chapter"><h2 id="1-build-de-production-ng-build" data-toc="1-build-de-production-ng-build">1. Build de Production : <code class="code" id="-ywfzaj_51">ng build</code></h2><p id="-ywfzaj_46">La commande <code class="code" id="-ywfzaj_52">ng serve</code> est fantastique pour le d&eacute;veloppement, mais elle n'est absolument pas faite pour la production. Pour cela, nous avons <code class="code" id="-ywfzaj_53">ng build</code>.</p><div class="code-block" data-lang="bash">
ng build
</div><p id="-ywfzaj_48">Par d&eacute;faut, cette commande construit votre application pour l'environnement de production. Elle effectue une s&eacute;rie d'optimisations magiques pour rendre votre application aussi petite et rapide que possible.</p><div class="tabs" id="-ywfzaj_49" data-anchors="[-ywfzaj_54,-ywfzaj_55,-ywfzaj_56]"><div class="tabs__content" data-gtm="tab" id="-ywfzaj_54" data-title="Minification"><p>Le code que vous &eacute;crivez est fait pour &ecirc;tre lisible par les humains. Le code que le navigateur ex&eacute;cute doit &ecirc;tre le plus petit possible. La minification supprime tous les caract&egrave;res inutiles (espaces, sauts de ligne, commentaires) et raccourcit les noms de variables. </p><p id="-ywfzaj_57"><span class="control" id="-ywfzaj_61">Avant :</span></p><div class="code-block" data-lang="javascript" data-title="JavaScript">
function greetUser(userName) {
    const GREETING_MESSAGE = &quot;Hello&quot;;
    console.log(GREETING_MESSAGE + &quot;, &quot; + userName);
}
</div><p id="-ywfzaj_59"><span class="control" id="-ywfzaj_62">Apr&egrave;s :</span></p><div class="code-block" data-lang="javascript" data-title="JavaScript">
function g(a) {
    console.log(&quot;Hello, &quot; + a)
}
</div></div><div class="tabs__content" data-gtm="tab" id="-ywfzaj_55" data-title="Tree-Shaking (&Eacute;lagage)"><p>Votre application importe peut-&ecirc;tre des biblioth&egrave;ques enti&egrave;res, mais n'utilise que quelques-unes de leurs fonctions. Le &quot;tree-shaking&quot; est un processus qui analyse votre code et &eacute;limine tout le code des d&eacute;pendances que vous n'utilisez pas r&eacute;ellement. C'est comme secouer un arbre pour faire tomber les feuilles mortes. Le r&eacute;sultat est un bundle beaucoup plus l&eacute;ger.</p></div><div class="tabs__content" data-gtm="tab" id="-ywfzaj_56" data-title="Compilation Ahead-of-Time (AOT)"><p>En d&eacute;veloppement (`ng serve`), vos templates HTML sont compil&eacute;s en JavaScript par le navigateur (Just-in-Time, JIT). En production, `ng build` fait ce travail &agrave; l'avance (Ahead-of-Time, AOT). Le navigateur re&ccedil;oit directement du JavaScript optimis&eacute;, ce qui rend le d&eacute;marrage de l'application beaucoup plus rapide.</p></div></div><p id="-ywfzaj_50">Le r&eacute;sultat de cette commande est d&eacute;pos&eacute; dans le dossier <code class="code" id="-ywfzaj_63">dist/nom-de-votre-app/</code>. Ce dossier contient tous les fichiers statiques (<code class="code" id="-ywfzaj_64">index.html</code>, <code class="code" id="-ywfzaj_65">main.js</code>, <code class="code" id="-ywfzaj_66">styles.css</code>...) pr&ecirc;ts &agrave; &ecirc;tre d&eacute;ploy&eacute;s.</p></section><section class="chapter"><h2 id="2-strat-gies-de-d-ploiement" data-toc="2-strat-gies-de-d-ploiement">2. Strat&eacute;gies de D&eacute;ploiement</h2><p id="-ywfzaj_67">Une application Angular, une fois &quot;build&eacute;e&quot;, est juste un ensemble de fichiers statiques. Vous pouvez l'h&eacute;berger sur n' importe quel serveur capable de servir des fichiers statiques : Nginx, Apache, Firebase Hosting, AWS S3, etc.</p><section class="chapter"><h3 id="le-probl-me-du-rafra-chissement-f5" data-toc="le-probl-me-du-rafra-chissement-f5">Le Probl&egrave;me du Rafra&icirc;chissement (F5)</h3><p id="-ywfzaj_69">C'est LE probl&egrave;me que rencontre tout d&eacute;butant.</p><ol class="list _decimal" id="-ywfzaj_70" type="1"><li class="list__item" id="-ywfzaj_75"><p id="-ywfzaj_78">Vous d&eacute;marrez sur <code class="code" id="-ywfzaj_79">www.monsite.com</code>. Tout va bien.</p></li><li class="list__item" id="-ywfzaj_76"><p id="-ywfzaj_80">Vous naviguez vers <code class="code" id="-ywfzaj_81">www.monsite.com/users/123</code> en cliquant sur un lien. Le routeur Angular intercepte le clic et affiche le bon composant. Tout va bien.</p></li><li class="list__item" id="-ywfzaj_77"><p id="-ywfzaj_82">Vous appuyez sur F5 (ou vous entrez l'URL directement). Le navigateur envoie une requ&ecirc;te <code class="code" id="-ywfzaj_83">GET /users/123</code> au * <span class="emphasis" id="-ywfzaj_84">serveur</span>*. Le serveur ne conna&icirc;t pas cette route ! Il vous retourne une erreur 404 (Not Found).</p></li></ol><p id="-ywfzaj_71"><span class="control" id="-ywfzaj_85">La Solution : La R&eacute;&eacute;criture d'URL (URL Rewriting)</span> Il faut configurer le serveur pour que <span class="control" id="-ywfzaj_86">toutes les requ&ecirc;tes</span> qui ne correspondent pas &agrave; un fichier physique (comme <code class="code" id="-ywfzaj_87">main.js</code> ou une image) soient redirig&eacute;es vers <code class="code" id="-ywfzaj_88">index.html</code>. Ainsi, l'application Angular se charge, lit l'URL <code class="code" id="-ywfzaj_89">.../users/123</code>, et le routeur Angular prend le relais pour afficher le bon composant.</p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="659px" preserveAspectRatio="none" style="width:769px;height:659px;background:#FFFFFF;" version="1.1" viewBox="0 0 769 659" width="769px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="64.6211" style="stroke:#696969;stroke-width:1.0;" width="10" x="191.5" y="128.1094"/><rect fill="#FFFFFF" height="298.4395" style="stroke:#696969;stroke-width:1.0;" width="10" x="191.5" y="269.9961"/><rect fill="#FFFFFF" height="35.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="362.5" y="157.4199"/><rect fill="#FFFFFF" height="35.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="362.5" y="511.125"/><rect fill="#FFFFFF" height="269.1289" style="stroke:#696969;stroke-width:1.0;" width="10" x="573.5" y="299.3066"/><rect fill="none" height="247.1289" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="610.5" x="152" y="314.3066"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="81.4883" y2="207.7305"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="23" x2="23" y1="207.7305" y2="248.6855"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="248.6855" y2="578.4355"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="196" x2="196" y1="81.4883" y2="207.7305"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="196" x2="196" y1="207.7305" y2="248.6855"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="196" x2="196" y1="248.6855" y2="578.4355"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367" x2="367" y1="81.4883" y2="207.7305"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="367" x2="367" y1="207.7305" y2="248.6855"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367" x2="367" y1="248.6855" y2="578.4355"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="578" x2="578" y1="81.4883" y2="207.7305"/><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="578" x2="578" y1="207.7305" y2="248.6855"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="578" x2="578" y1="248.6855" y2="578.4355"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="78.5352">User</text><ellipse cx="23.5" cy="13.5" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M23.5,21.5 L23.5,48.5 M10.5,29.5 L36.5,29.5 M23.5,48.5 L10.5,63.5 M23.5,48.5 L36.5,63.5 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="590.9707">User</text><ellipse cx="23.5" cy="602.4238" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M23.5,610.4238 L23.5,637.4238 M10.5,618.4238 L36.5,618.4238 M23.5,637.4238 L10.5,652.4238 M23.5,637.4238 L36.5,652.4238 " fill="none" style="stroke:#454645;stroke-width:0.5;"/><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="69" x="162" y="50"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="169" y="70.5352">Browser</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="69" x="162" y="577.4355"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="169" y="597.9707">Browser</text><rect fill="#FF6347" height="46.9766" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="69" x="333" y="33.5117"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="340" y="54.0469">Angular</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="344.5" y="70.5352">Router</text><rect fill="#FF6347" height="46.9766" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="69" x="333" y="577.4355"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="340" y="597.9707">Angular</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="344.5" y="614.459">Router</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="57" x="550" y="50"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="557" y="70.5352">Server</text><rect fill="#FF6347" height="30.4883" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="57" x="550" y="577.4355"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="557" y="597.9707">Server</text><rect fill="#FFFFFF" height="64.6211" style="stroke:#696969;stroke-width:1.0;" width="10" x="191.5" y="128.1094"/><rect fill="#FFFFFF" height="298.4395" style="stroke:#696969;stroke-width:1.0;" width="10" x="191.5" y="269.9961"/><rect fill="#FFFFFF" height="35.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="362.5" y="157.4199"/><rect fill="#FFFFFF" height="35.3105" style="stroke:#696969;stroke-width:1.0;" width="10" x="362.5" y="511.125"/><rect fill="#FFFFFF" height="269.1289" style="stroke:#696969;stroke-width:1.0;" width="10" x="573.5" y="299.3066"/><polygon fill="#222222" points="179.5,124.1094,189.5,128.1094,179.5,132.1094,183.5,128.1094" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.0;" x1="23.5" x2="185.5" y1="128.1094" y2="128.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="30.5" y="108.0566">Visite /users/123</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="30.5" y="123.3672">(en cliquant sur un lien)</text><polygon fill="#222222" points="350.5,153.4199,360.5,157.4199,350.5,161.4199,354.5,157.4199" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.0;" x1="201.5" x2="356.5" y1="157.4199" y2="157.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="208.5" y="152.6777">Navigation interne</text><line style="stroke:#222222;stroke-width:1.0;" x1="372.5" x2="414.5" y1="191.7305" y2="191.7305"/><line style="stroke:#222222;stroke-width:1.0;" x1="414.5" x2="414.5" y1="191.7305" y2="204.7305"/><line style="stroke:#222222;stroke-width:1.0;" x1="367.5" x2="414.5" y1="204.7305" y2="204.7305"/><polygon fill="#222222" points="377.5,200.7305,367.5,204.7305,377.5,208.7305,373.5,204.7305" style="stroke:#222222;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="379.5" y="186.9883">Affiche UserDetailComponent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="277" y="232.3652">plus tard</text><polygon fill="#222222" points="179.5,265.9961,189.5,269.9961,179.5,273.9961,183.5,269.9961" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.0;" x1="23.5" x2="185.5" y1="269.9961" y2="269.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="30.5" y="265.2539">Appuie sur F5</text><polygon fill="#222222" points="561.5,295.3066,571.5,299.3066,561.5,303.3066,565.5,299.3066" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.0;" x1="201.5" x2="567.5" y1="299.3066" y2="299.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="208.5" y="294.5645">GET /users/123</text><path d="M155.5,314.3066 L214,314.3066 L214,321.6172 L204,331.6172 L152,331.6172 L152,317.8066 A3.5,3.5 0 0 1 155.5,314.3066 " fill="#EEEEEE" style="stroke:#696969;stroke-width:1.5;"/><rect fill="none" height="247.1289" rx="3.5" ry="3.5" style="stroke:#696969;stroke-width:1.0;" width="610.5" x="152" y="314.3066"/><text fill="#454645" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="167" y="327.875">alt</text><text fill="#696969" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="229" y="326.9414">[Sans r&#233;&#233;criture]</text><polygon fill="#222222" points="212.5,348.9277,202.5,352.9277,212.5,356.9277,208.5,352.9277" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="572.5" y1="352.9277" y2="352.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="218.5" y="348.1855">404 Not Found</text><line style="stroke:#696969;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="152" x2="762.5" y1="361.9277" y2="361.9277"/><text fill="#696969" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="93" x="157" y="372.5625">[Avec r&#233;&#233;criture]</text><line style="stroke:#222222;stroke-width:1.0;" x1="583.5" x2="625.5" y1="397.1934" y2="397.1934"/><line style="stroke:#222222;stroke-width:1.0;" x1="625.5" x2="625.5" y1="397.1934" y2="410.1934"/><line style="stroke:#222222;stroke-width:1.0;" x1="584.5" x2="625.5" y1="410.1934" y2="410.1934"/><polygon fill="#222222" points="594.5,406.1934,584.5,410.1934,594.5,414.1934,590.5,410.1934" style="stroke:#222222;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="590.5" y="392.4512">Redirige vers /index.html</text><polygon fill="#222222" points="212.5,435.5039,202.5,439.5039,212.5,443.5039,208.5,439.5039" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206.5" x2="572.5" y1="439.5039" y2="439.5039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="218.5" y="434.7617">Contenu de index.html</text><line style="stroke:#222222;stroke-width:1.0;" x1="201.5" x2="243.5" y1="468.8145" y2="468.8145"/><line style="stroke:#222222;stroke-width:1.0;" x1="243.5" x2="243.5" y1="468.8145" y2="481.8145"/><line style="stroke:#222222;stroke-width:1.0;" x1="202.5" x2="243.5" y1="481.8145" y2="481.8145"/><polygon fill="#222222" points="212.5,477.8145,202.5,481.8145,212.5,485.8145,208.5,481.8145" style="stroke:#222222;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="208.5" y="464.0723">Charge l'app Angular</text><polygon fill="#222222" points="350.5,507.125,360.5,511.125,350.5,515.125,354.5,511.125" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#222222;stroke-width:1.0;" x1="201.5" x2="356.5" y1="511.125" y2="511.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="208.5" y="506.3828">Route vers /users/123</text><line style="stroke:#222222;stroke-width:1.0;" x1="372.5" x2="414.5" y1="545.4355" y2="545.4355"/><line style="stroke:#222222;stroke-width:1.0;" x1="414.5" x2="414.5" y1="545.4355" y2="558.4355"/><line style="stroke:#222222;stroke-width:1.0;" x1="367.5" x2="414.5" y1="558.4355" y2="558.4355"/><polygon fill="#222222" points="377.5,554.4355,367.5,558.4355,377.5,562.4355,373.5,558.4355" style="stroke:#222222;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="379.5" y="540.6934">Affiche UserDetailComponent</text><!--SRC=[hLAxKiD03EplAmGKG944GcWec361qAK8ZohDOOj4mqNdtCCmm_11-Oxy68gnYKC25QuipUvgjRgzCCKPGa5FJdDG_eKurqxFmECy8gS8xofnphxshR4E3hhbfpwKJeFK3nwT4aAWb78HW2k1_kpj9po9HhinZsmCwFP1UnXEleeDv1swGbfg9GkjoreDBk2HF0M4JfJITqwxPsC-GeRKq3okc3uwY0o6a8zNtgZG0g_Tr3eYMSyLpQ4kQA83MGPYQJ6kcT_sll6RtEJvcT8fbW5SOz1a-dQMMqO9CSDjcKQlDgNQxJRa9de8scKWrQx5apoFXEL-W_C_D_iAJoYtD_UDeDQSAbrj96ZD7jnoiLoaZa9qg2fsQsDuxwG7GnjWO2Dd2er7I0fCTpCR3aQOaQE9l2in0HtY3D_Qqp0pkyVqhSJF4JA41hInMWCwrKvqpQ7ESwZUrI_dBNyg1plI-EyBeoJKw5TXRz_z4m00]--></g></svg></div><p id="-ywfzaj_73"><span class="control" id="-ywfzaj_90">Exemple de configuration pour Nginx :</span></p><div class="code-block" data-lang="nginx">
server {
  listen 80;
  server_name monsite.com;
  root /var/www/html/dist/my-app; # Chemin vers vos fichiers

  location / {
    # Si le fichier ou dossier demandé n'existe pas,
    # sers index.html à la place.
    try_files $uri $uri/ /index.html;
  }
}
</div></section></section><section class="chapter"><h2 id="3-transformer-son-app-en-pwa" data-toc="3-transformer-son-app-en-pwa">3. Transformer son App en PWA</h2><p id="-ywfzaj_91">Une Progressive Web App (PWA) est une application web qui utilise les technologies modernes des navigateurs pour offrir une exp&eacute;rience similaire &agrave; une application native.</p><p id="-ywfzaj_92">Avec Angular, c'est incroyablement simple &agrave; mettre en place :</p><div class="code-block" data-lang="bash">
ng add @angular/pwa
</div><p id="-ywfzaj_94">Cette commande va :</p><ul class="list _bullet" id="-ywfzaj_95"><li class="list__item" id="-ywfzaj_97"><p id="-ywfzaj_103">Ajouter le package <code class="code" id="-ywfzaj_104">@angular/pwa</code>.</p></li><li class="list__item" id="-ywfzaj_98"><p id="-ywfzaj_105">Cr&eacute;er un fichier <code class="code" id="-ywfzaj_106">manifest.webmanifest</code>.</p></li><li class="list__item" id="-ywfzaj_99"><p id="-ywfzaj_107">Cr&eacute;er un fichier de configuration du Service Worker <code class="code" id="-ywfzaj_108">ngsw-config.json</code>.</p></li><li class="list__item" id="-ywfzaj_100"><p id="-ywfzaj_109">Cr&eacute;er des ic&ocirc;nes de diff&eacute;rentes tailles.</p></li><li class="list__item" id="-ywfzaj_101"><p id="-ywfzaj_110">Mettre &agrave; jour <code class="code" id="-ywfzaj_111">index.html</code> pour lier le manifest.</p></li><li class="list__item" id="-ywfzaj_102"><p id="-ywfzaj_112">Enregistrer le Service Worker dans votre <code class="code" id="-ywfzaj_113">app.config.ts</code>.</p></li></ul><div class="tabs" id="-ywfzaj_96" data-anchors="[-ywfzaj_114,-ywfzaj_115]"><div class="tabs__content" data-gtm="tab" id="-ywfzaj_114" data-title="Le Manifest : La Carte d'Identit&eacute;"><p>Le fichier `manifest.webmanifest` est un simple fichier JSON qui d&eacute;crit votre application au navigateur. C'est ce qui permet au navigateur de proposer &agrave; l'utilisateur d'**&quot;Installer l'application&quot;**. </p><p id="-ywfzaj_116"><span class="control" id="-ywfzaj_118"><code class="code" id="-ywfzaj_119">src/manifest.webmanifest</code> (extrait)</span></p><div class="code-block" data-lang="json" data-title="JSON">
{
  &quot;name&quot;: &quot;Mon App Incroyable&quot;,
  &quot;short_name&quot;: &quot;Mon App&quot;,
  &quot;theme_color&quot;: &quot;#1976d2&quot;,
  &quot;background_color&quot;: &quot;#fafafa&quot;,
  &quot;display&quot;: &quot;standalone&quot;,
  &quot;scope&quot;: &quot;/&quot;,
  &quot;start_url&quot;: &quot;/&quot;,
  &quot;icons&quot;: [
    {
      &quot;src&quot;: &quot;assets/icons/icon-72x72.png&quot;,
      &quot;sizes&quot;: &quot;72x72&quot;,
      &quot;type&quot;: &quot;image/png&quot;
    }
  ]
}
</div></div><div class="tabs__content" data-gtm="tab" id="-ywfzaj_115" data-title="Le Service Worker : Le Cerveau Hors-Ligne"><p>Un Service Worker est un script qui s'ex&eacute;cute en arri&egrave;re-plan dans le navigateur, s&eacute;par&eacute;ment de votre page web. Il agit comme un **proxy** entre votre application et le r&eacute;seau. </p><p id="-ywfzaj_120">Son r&ocirc;le principal ici est de g&eacute;rer le <span class="control" id="-ywfzaj_125">cache</span>. <code class="code" id="-ywfzaj_126">ngsw-config.json</code> lui dit quoi mettre en cache et comment.</p><ul class="list _bullet" id="-ywfzaj_121"><li class="list__item" id="-ywfzaj_127"><p id="-ywfzaj_129"><span class="control" id="-ywfzaj_130">Les &quot;assets&quot; de l'application :</span> Le <code class="code" id="-ywfzaj_131">index.html</code>, les fichiers JS et CSS.</p></li><li class="list__item" id="-ywfzaj_128"><p id="-ywfzaj_132"><span class="control" id="-ywfzaj_133">Les donn&eacute;es d'API :</span> On peut lui dire de mettre en cache les r&eacute;ponses de certains appels API.</p></li></ul><p id="-ywfzaj_122">Gr&acirc;ce &agrave; lui, si l'utilisateur perd sa connexion internet, le Service Worker peut intercepter les requ&ecirc;tes et servir les fichiers depuis le cache. Votre application <span class="control" id="-ywfzaj_134">continue de fonctionner hors-ligne !</span></p><p id="-ywfzaj_123"><span class="control" id="-ywfzaj_135"><code class="code" id="-ywfzaj_136">ngsw-config.json</code> (extrait)</span></p><div class="code-block" data-lang="json" data-title="JSON">
{
  &quot;assetGroups&quot;: [
    {
      &quot;name&quot;: &quot;app&quot;,
      &quot;installMode&quot;: &quot;prefetch&quot;,
      // Met en cache dès l'installation
      &quot;resources&quot;: {
        &quot;files&quot;: [
          &quot;/favicon.ico&quot;,
          &quot;/index.html&quot;,
          &quot;/*.css&quot;,
          &quot;/*.js&quot;
        ]
      }
    }
  ],
  &quot;dataGroups&quot;: [
    {
      &quot;name&quot;: &quot;api-performance&quot;,
      &quot;urls&quot;: [
        &quot;/api/**&quot;
      ],
      &quot;cacheConfig&quot;: {
        &quot;maxSize&quot;: 100,
        &quot;maxAge&quot;: &quot;3d&quot;,
        &quot;strategy&quot;: &quot;performance&quot;
        // Sers depuis le cache d'abord
      }
    }
  ]
}
</div></div></div></section><section class="chapter"><h2 id="exercice-6-3-builder-d-ployer-localement-et-transformer-en-pwa" data-toc="exercice-6-3-builder-d-ployer-localement-et-transformer-en-pwa">Exercice 6.3 : Builder, d&eacute;ployer localement et transformer en PWA</h2><p id="-ywfzaj_137"><span class="control" id="-ywfzaj_141">Objectif :</span> Accomplir tout le cycle de production sur votre projet actuel.</p><p id="-ywfzaj_138"><span class="control" id="-ywfzaj_142">Instructions :</span></p><ol class="list _decimal" id="-ywfzaj_139" type="1"><li class="list__item" id="-ywfzaj_143"><p id="-ywfzaj_147"><span class="control" id="-ywfzaj_148">Build :</span> Lancez la commande <code class="code" id="-ywfzaj_149">ng build</code> dans votre terminal. Explorez le dossier <code class="code" id="-ywfzaj_150">dist/</code> qui a &eacute;t&eacute; cr&eacute;&eacute;.</p></li><li class="list__item" id="-ywfzaj_144"><p id="-ywfzaj_151"><span class="control" id="-ywfzaj_153">D&eacute;ploiement local :</span></p><ul class="list _bullet" id="-ywfzaj_152"><li class="list__item" id="-ywfzaj_154"><p id="-ywfzaj_158">Installez un serveur statique simple : <code class="code" id="-ywfzaj_159">npm install -g http-server</code>.</p></li><li class="list__item" id="-ywfzaj_155"><p id="-ywfzaj_160">Naviguez dans le dossier de votre build : <code class="code" id="-ywfzaj_161">cd dist/nom-de-votre-app</code>.</p></li><li class="list__item" id="-ywfzaj_156"><p id="-ywfzaj_162">Lancez le serveur : <code class="code" id="-ywfzaj_163">http-server -p 8080 -c-1 --proxy http://localhost:8080?</code>. Le flag <code class="code" id="-ywfzaj_164">--proxy</code> est une astuce pour simuler la r&eacute;&eacute;criture d'URL et r&eacute;soudre le probl&egrave;me F5.</p></li><li class="list__item" id="-ywfzaj_157"><p id="-ywfzaj_165">Ouvrez votre navigateur sur <code class="code" id="-ywfzaj_166">http://localhost:8080</code>.</p></li></ul></li><li class="list__item" id="-ywfzaj_145"><p id="-ywfzaj_167"><span class="control" id="-ywfzaj_169">Transformation PWA :</span></p><ul class="list _bullet" id="-ywfzaj_168"><li class="list__item" id="-ywfzaj_170"><p id="-ywfzaj_172">Arr&ecirc;tez le serveur et revenez &agrave; la racine de votre projet.</p></li><li class="list__item" id="-ywfzaj_171"><p id="-ywfzaj_173">Lancez <code class="code" id="-ywfzaj_174">ng add @angular/pwa</code>. Acceptez les options par d&eacute;faut.</p></li></ul></li><li class="list__item" id="-ywfzaj_146"><p id="-ywfzaj_175"><span class="control" id="-ywfzaj_177">Re-build et v&eacute;rification :</span></p><ul class="list _bullet" id="-ywfzaj_176"><li class="list__item" id="-ywfzaj_178"><p id="-ywfzaj_182">Relancez <code class="code" id="-ywfzaj_183">ng build</code>.</p></li><li class="list__item" id="-ywfzaj_179"><p id="-ywfzaj_184">Relancez <code class="code" id="-ywfzaj_185">http-server</code> comme &agrave; l'&eacute;tape 2.</p></li><li class="list__item" id="-ywfzaj_180"><p id="-ywfzaj_186">Ouvrez les DevTools (F12) dans Chrome/Edge. Allez dans l'onglet &quot;Application&quot;.</p></li><li class="list__item" id="-ywfzaj_181"><p id="-ywfzaj_187">V&eacute;rifiez que le &quot;Manifest&quot; est bien charg&eacute; et que le &quot;Service Worker&quot; est activ&eacute; et en cours d'ex&eacute;cution. Une ic&ocirc;ne d'installation devrait appara&icirc;tre dans la barre d'URL.</p></li></ul></li></ol><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="correction-exercice-6-3" data-toc="correction-exercice-6-3">Correction exercice 6.3</h3></div><div class="collapse__content"><section class="procedure-steps" id="-ywfzaj_188"><p id="-ywfzaj_189">Cet exercice n'a pas de &quot;code&quot; de correction, mais plut&ocirc;t un ensemble de r&eacute;sultats attendus. Si vous avez suivi les &eacute;tapes, voici ce que vous devriez observer :</p><ol class="list _decimal" id="-ywfzaj_190" type="1"><li class="list__item" id="-ywfzaj_191"><p id="-ywfzaj_195">Apr&egrave;s <code class="code" id="-ywfzaj_196">ng build</code>, le dossier <code class="code" id="-ywfzaj_197">dist/nom-de-votre-app</code> contient des fichiers <code class="code" id="-ywfzaj_198">main.[hash].js</code>, <code class="code" id="-ywfzaj_199">styles.[hash].css</code>, etc. Les noms de fichiers contiennent un hash pour la gestion du cache par le navigateur.</p></li><li class="list__item" id="-ywfzaj_192"><p id="-ywfzaj_200">En acc&eacute;dant &agrave; <code class="code" id="-ywfzaj_201">http://localhost:8080</code>, votre application s'affiche. Si vous naviguez vers une sous-route (ex: <code class="code" id="-ywfzaj_202">/users</code>) et que vous rafra&icirc;chissez la page, elle devrait se recharger correctement gr&acirc;ce &agrave; l'option <code class="code" id="-ywfzaj_203">--proxy</code> de <code class="code" id="-ywfzaj_204">http-server</code>.</p></li><li class="list__item" id="-ywfzaj_193"><p id="-ywfzaj_205">Apr&egrave;s <code class="code" id="-ywfzaj_206">ng add @angular/pwa</code>, de nouveaux fichiers (<code class="code" id="-ywfzaj_207">manifest.webmanifest</code>, <code class="code" id="-ywfzaj_208">ngsw-config.json</code>, des ic&ocirc;nes dans <code class="code" id="-ywfzaj_209">assets/icons/</code>) sont apparus dans votre projet.</p></li><li class="list__item" id="-ywfzaj_194"><p id="-ywfzaj_210">Apr&egrave;s le build final et le red&eacute;marrage du serveur, l'onglet &quot;Application&quot; des DevTools devrait ressembler &agrave; ceci :</p><ul class="list _bullet" id="-ywfzaj_211"><li class="list__item" id="-ywfzaj_213"><p id="-ywfzaj_216"><span class="control" id="-ywfzaj_217">Manifest :</span> Les informations de votre manifest sont list&eacute;es (nom de l'app, couleurs, ic&ocirc;nes...).</p></li><li class="list__item" id="-ywfzaj_214"><p id="-ywfzaj_218"><span class="control" id="-ywfzaj_219">Service Workers :</span> Vous voyez un service worker (<code class="code" id="-ywfzaj_220">ngsw-worker.js</code>) avec un statut &quot;activated and is running&quot;.</p></li><li class="list__item" id="-ywfzaj_215"><p id="-ywfzaj_221"><span class="control" id="-ywfzaj_222">Cache Storage :</span> Vous pouvez voir les caches cr&eacute;&eacute;s par le service worker (<code class="code" id="-ywfzaj_223">ngsw:asset-group:app</code>, etc.) et inspecter leur contenu.</p></li></ul><p id="-ywfzaj_212">Vous devriez aussi voir une petite ic&ocirc;ne &quot;Installer&quot; dans la barre d'adresse de votre navigateur. F&eacute;licitations, votre application est maintenant une PWA !</p></li></ol><ol class="list _decimal"></ol></section></div></div></section></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="-ywfzaj_224" type="1"><li class="list__item" id="-ywfzaj_225"><p id="-ywfzaj_230"><span class="control" id="-ywfzaj_231">Lequel de ces processus n'est PAS une optimisation effectu&eacute;e par <code class="code" id="-ywfzaj_232">ng build</code> en mode production ?</span> a. Tree-shaking b. Minification c. Ajout de commentaires d&eacute;taill&eacute;s dans le code. d. Compilation Ahead-of-Time (AOT).</p></li><li class="list__item" id="-ywfzaj_226"><p id="-ywfzaj_233"><span class="control" id="-ywfzaj_234">Expliquez avec vos propres mots le &quot;probl&egrave;me du rafra&icirc;chissement F5&quot; et sa solution.</span></p></li><li class="list__item" id="-ywfzaj_227"><p id="-ywfzaj_235"><span class="control" id="-ywfzaj_236">Quel est le r&ocirc;le du fichier <code class="code" id="-ywfzaj_237">manifest.webmanifest</code> dans une PWA ?</span></p></li><li class="list__item" id="-ywfzaj_228"><p id="-ywfzaj_238"><span class="control" id="-ywfzaj_239">Quel composant d'une PWA est responsable de la mise en cache des fichiers pour permettre un fonctionnement hors-ligne ?</span> a. Le Manifest b. Le Service Worker c. Le Routeur Angular d. Le fichier <code class="code" id="-ywfzaj_240">index.html</code></p></li><li class="list__item" id="-ywfzaj_229"><p id="-ywfzaj_241"><span class="control" id="-ywfzaj_242">Quelle commande CLI Angular simplifie grandement la transformation d'une application existante en PWA ?</span></p></li></ol></section><section class="chapter"><h2 id="conclusion" data-toc="conclusion">Conclusion</h2><p id="-ywfzaj_243">Vous avez boucl&eacute; la boucle ! De la conception &agrave; la production, vous avez maintenant toutes les cl&eacute;s en main pour non seulement construire des applications Angular avanc&eacute;es, mais aussi pour les livrer au monde de mani&egrave;re professionnelle. Vous savez comment les optimiser pour la performance, les d&eacute;ployer correctement, et m&ecirc;me les transformer en Progressive Web Apps pour une exp&eacute;rience utilisateur de premier ordre.</p><p id="-ywfzaj_244">Ce voyage &agrave; travers l'&eacute;cosyst&egrave;me avanc&eacute; d'Angular vous a &eacute;quip&eacute; de comp&eacute;tences tr&egrave;s recherch&eacute;es. Les prochains sujets, comme <span class="control" id="-ywfzaj_245">l'internationalisation (i18n)</span> et <span class="control" id="-ywfzaj_246">l'accessibilit&eacute; (a11y)</span>, ne sont plus des obstacles techniques, mais des am&eacute;liorations que vous pouvez construire sur les fondations solides que vous avez &eacute;tablies.</p></section><div class="last-modified">10 août 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="006-01-websockets.html" class="navigation-links__prev">Module 6, Partie B : Temps R&eacute;el avec WebSockets</a><a href="007-00-i18n.html" class="navigation-links__next">Module 7 : L'essentiel - Rendre son Application Globale : l'Internationalisation (i18n)</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>