<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-10-12T13:30:42.191052"><title>Corrections des Auto-&eacute;valuations | Angular avancé</title><script type="application/json" id="virtual-toc-data">[{"id":"module-0-introduction-et-rappels-cl-s","level":0,"title":"Module 0 : Introduction et Rappels Clés","anchor":"#module-0-introduction-et-rappels-cl-s"},{"id":"module-1-ma-trise-de-rxjs","level":0,"title":"Module 1 : Maîtrise de RxJS","anchor":"#module-1-ma-trise-de-rxjs"},{"id":"module-2-strat-gies-de-gestion-d-tat","level":0,"title":"Module 2 : Stratégies de Gestion d\u0027État","anchor":"#module-2-strat-gies-de-gestion-d-tat"},{"id":"module-3-patrons-de-conception-de-composants-et-optimisation","level":0,"title":"Module 3 : Patrons de Conception de Composants et Optimisation","anchor":"#module-3-patrons-de-conception-de-composants-et-optimisation"},{"id":"module-4-gardiens-et-intercepteurs","level":0,"title":"Module 4 : Gardiens et Intercepteurs","anchor":"#module-4-gardiens-et-intercepteurs"},{"id":"module-5-tests-unitaires","level":0,"title":"Module 5 : Tests Unitaires","anchor":"#module-5-tests-unitaires"},{"id":"module-6-cosyst-me-avanc","level":0,"title":"Module 6 : Écosystème Avancé","anchor":"#module-6-cosyst-me-avanc"},{"id":"module-7-i18n-et-a11y","level":0,"title":"Module 7 : i18n et a11y","anchor":"#module-7-i18n-et-a11y"},{"id":"module-8-tests-e2e-et-maintenance","level":0,"title":"Module 8 : Tests E2E et Maintenance","anchor":"#module-8-tests-e2e-et-maintenance"},{"id":"module-9-conclusion","level":0,"title":"Module 9 : Conclusion","anchor":"#module-9-conclusion"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Corrections des Auto-&eacute;valuations | Angular avancé"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Angular avancé Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/009-01-corrections.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Corrections des Auto-&eacute;valuations | Angular avancé"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/009-01-corrections.html#webpage",
    "url": "writerside-documentation/009-01-corrections.html",
    "name": "Corrections des Auto-&eacute;valuations | Angular avancé",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Angular avancé Help"
}</script><!-- End Schema.org --></head><body data-id="009-01-corrections" data-main-title="Corrections des Auto-évaluations" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Angular avancé  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="009-01-corrections" id="009-01-corrections.md">Corrections des Auto-évaluations</h1><p id="z8rh5ku_3">Voici les corrections et les explications pour toutes les auto-&eacute;valuations du cours. Utilisez-les pour valider vos connaissances et, surtout, pour comprendre les raisonnements derri&egrave;re chaque r&eacute;ponse.</p><section class="chapter"><h2 id="module-0-introduction-et-rappels-cl-s" data-toc="module-0-introduction-et-rappels-cl-s">Module 0 : Introduction et Rappels Cl&eacute;s</h2><section class="chapter"><h3 id="l-essentiel" data-toc="l-essentiel">L'essentiel</h3><ol class="list _decimal" id="z8rh5ku_17" type="1"><li class="list__item" id="z8rh5ku_27"><p id="z8rh5ku_28"><span class="control" id="z8rh5ku_29">Quel est le principal avantage des composants Standalone par rapport aux <code class="code" id="z8rh5ku_30">NgModule</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_18"><li class="list__item" id="z8rh5ku_31"><p id="z8rh5ku_33"><span class="control" id="z8rh5ku_34">R&eacute;ponse : B.</span> Ils simplifient la gestion des d&eacute;pendances et r&eacute;duisent le code standard (boilerplate).</p></li><li class="list__item" id="z8rh5ku_32"><p id="z8rh5ku_35"><span class="control" id="z8rh5ku_36">Explication :</span> L'avantage majeur des composants Standalone est architectural. En permettant &agrave; un composant de g&eacute;rer ses propres d&eacute;pendances (<code class="code" id="z8rh5ku_37">imports</code>), ils &eacute;liminent la n&eacute;cessit&eacute; des <code class="code" id="z8rh5ku_38">NgModules</code>, ce qui simplifie la structure du projet, r&eacute;duit la quantit&eacute; de code &agrave; &eacute;crire et &agrave; maintenir, et rend la logique de d&eacute;pendance plus locale et plus claire.</p></li></ul><ol class="list _decimal" id="z8rh5ku_19" type="1" start="2"><li class="list__item" id="z8rh5ku_39"><p id="z8rh5ku_40"><span class="control" id="z8rh5ku_41">Expliquez avec vos propres mots le r&ocirc;le du d&eacute;corateur <code class="code" id="z8rh5ku_42">@Injectable({ providedIn: 'root' })</code>.</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_20"><li class="list__item" id="z8rh5ku_43"><p id="z8rh5ku_44"><span class="control" id="z8rh5ku_45">R&eacute;ponse type :</span> Ce d&eacute;corateur indique &agrave; Angular que la classe est un service qui peut &ecirc;tre inject&eacute; dans d'autres classes. L'option <code class="code" id="z8rh5ku_46">{ providedIn: 'root' }</code> est particuli&egrave;rement importante : elle enregistre le service aupr&egrave;s de l'injecteur racine de l'application. Cela signifie qu'Angular cr&eacute;era une seule et unique instance de ce service (un singleton) qui sera partag&eacute;e et disponible dans toute l'application, ce qui est id&eacute;al pour partager un &eacute;tat ou une logique m&eacute;tier.</p></li></ul><ol class="list _decimal" id="z8rh5ku_21" type="1" start="3"><li class="list__item" id="z8rh5ku_47"><p id="z8rh5ku_48"><span class="control" id="z8rh5ku_49">Op&eacute;rateur RxJS pour une recherche auto-compl&eacute;t&eacute;e.</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_22"><li class="list__item" id="z8rh5ku_50"><p id="z8rh5ku_52"><span class="control" id="z8rh5ku_53">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_54">switchMap</code>.</p></li><li class="list__item" id="z8rh5ku_51"><p id="z8rh5ku_55"><span class="control" id="z8rh5ku_56">Explication :</span> <code class="code" id="z8rh5ku_57">switchMap</code> est parfait pour ce cas car &agrave; chaque nouvelle &eacute;mission de la source (une nouvelle frappe au clavier), il se d&eacute;sabonne de la requ&ecirc;te HTTP pr&eacute;c&eacute;dente (si elle est toujours en cours) et s'abonne &agrave; la nouvelle. Cela &eacute;vite des requ&ecirc;tes inutiles et garantit que seul le r&eacute;sultat de la derni&egrave;re recherche sera trait&eacute;.</p></li></ul><ol class="list _decimal" id="z8rh5ku_23" type="1" start="4"><li class="list__item" id="z8rh5ku_58"><p id="z8rh5ku_59"><span class="control" id="z8rh5ku_60">Pourquoi les Formulaires R&eacute;actifs sont-ils plus &quot;scalables&quot; ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_24"><li class="list__item" id="z8rh5ku_61"><p id="z8rh5ku_62"><span class="control" id="z8rh5ku_63">R&eacute;ponse type :</span> Les Formulaires R&eacute;actifs sont consid&eacute;r&eacute;s comme plus &quot;scalables&quot; car le mod&egrave;le de donn&eacute;es du formulaire (<code class="code" id="z8rh5ku_64">FormGroup</code>, <code class="code" id="z8rh5ku_65">FormControl</code>) et la logique de validation sont d&eacute;finis et g&eacute;r&eacute;s de mani&egrave;re explicite dans la classe du composant (le fichier <code class="code" id="z8rh5ku_66">.ts</code>). Cela s&eacute;pare la logique de la vue, rend le code plus facile &agrave; tester unitairement, et permet de g&eacute;rer des logiques de validation complexes et dynamiques beaucoup plus facilement que les Formulaires pilot&eacute;s par le template, o&ugrave; la logique est plus dispers&eacute;e dans le HTML.</p></li></ul><ol class="list _decimal" id="z8rh5ku_25" type="1" start="5"><li class="list__item" id="z8rh5ku_67"><p id="z8rh5ku_68"><span class="control" id="z8rh5ku_69">&Agrave; quoi sert le <code class="code" id="z8rh5ku_70">async</code> pipe ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_26"><li class="list__item" id="z8rh5ku_71"><p id="z8rh5ku_73"><span class="control" id="z8rh5ku_74">R&eacute;ponse : B.</span> Il s'abonne &agrave; un <code class="code" id="z8rh5ku_75">Observable</code> ou une <code class="code" id="z8rh5ku_76">Promise</code> et retourne la derni&egrave;re valeur &eacute;mise, g&eacute;rant automatiquement la d&eacute;sinscription.</p></li><li class="list__item" id="z8rh5ku_72"><p id="z8rh5ku_77"><span class="control" id="z8rh5ku_78">Explication :</span> Le pipe <code class="code" id="z8rh5ku_79">async</code> est un outil de commodit&eacute; et de s&eacute;curit&eacute;. Il g&egrave;re le cycle de vie de la souscription pour nous : il s'abonne quand le composant est cr&eacute;&eacute; et se d&eacute;sabonne automatiquement quand le composant est d&eacute;truit, pr&eacute;venant ainsi les fuites de m&eacute;moire.</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin" data-toc="pour-aller-plus-loin">Pour aller plus loin</h3><ol class="list _decimal" id="z8rh5ku_80" type="1"><li class="list__item" id="z8rh5ku_91"><p id="z8rh5ku_92"><span class="control" id="z8rh5ku_93">Affirmation FAUSSE concernant <code class="code" id="z8rh5ku_94">inject()</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_81"><li class="list__item" id="z8rh5ku_95"><p id="z8rh5ku_97"><span class="control" id="z8rh5ku_98">R&eacute;ponse : C.</span> Elle peut &ecirc;tre appel&eacute;e &agrave; n'importe quel moment dans le cycle de vie d'un composant, y compris dans une m&eacute;thode d&eacute;clench&eacute;e par un clic.</p></li><li class="list__item" id="z8rh5ku_96"><p id="z8rh5ku_99"><span class="control" id="z8rh5ku_100">Explication :</span> C'est faux. La fonction <code class="code" id="z8rh5ku_101">inject()</code> doit imp&eacute;rativement &ecirc;tre appel&eacute;e dans un &quot;contexte d'injection&quot; : lors de l'initialisation d'une propri&eacute;t&eacute; de classe, dans le constructeur, ou dans une fonction &quot;factory&quot; d'un provider. L'appeler plus tard (dans <code class="code" id="z8rh5ku_102">ngOnInit</code> ou un event handler) l&egrave;vera une erreur.</p></li></ul><ol class="list _decimal" id="z8rh5ku_82" type="1" start="2"><li class="list__item" id="z8rh5ku_103"><p id="z8rh5ku_104"><span class="control" id="z8rh5ku_105">M&eacute;canisme des URLs d'API diff&eacute;rentes :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_83"><li class="list__item" id="z8rh5ku_106"><p id="z8rh5ku_107"><span class="control" id="z8rh5ku_108">R&eacute;ponse type :</span> Ce m&eacute;canisme repose sur les fichiers d'environnement (<code class="code" id="z8rh5ku_109">environment.ts</code> et <code class="code" id="z8rh5ku_110">environment.prod.ts</code>). Le fichier de configuration <code class="code" id="z8rh5ku_111">angular.json</code> contient une instruction <code class="code" id="z8rh5ku_112">fileReplacements</code> qui, lors d'un build de production (<code class="code" id="z8rh5ku_113">ng build</code>), remplace automatiquement le fichier de d&eacute;veloppement par celui de production, permettant ainsi &agrave; la m&ecirc;me variable (<code class="code" id="z8rh5ku_114">environment.apiUrl</code>) d'avoir des valeurs diff&eacute;rentes selon le contexte.</p></li></ul><ol class="list _decimal" id="z8rh5ku_84" type="1" start="3"><li class="list__item" id="z8rh5ku_115"><p id="z8rh5ku_116"><span class="control" id="z8rh5ku_117">Principal b&eacute;n&eacute;fice d'une <code class="code" id="z8rh5ku_118">interface</code> TypeScript :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_85"><li class="list__item" id="z8rh5ku_119"><p id="z8rh5ku_121"><span class="control" id="z8rh5ku_122">R&eacute;ponse : C.</span> Cela fournit une v&eacute;rification de type &agrave; la compilation et am&eacute;liore l'aide au d&eacute;veloppement ( autocompl&eacute;tion).</p></li><li class="list__item" id="z8rh5ku_120"><p id="z8rh5ku_123"><span class="control" id="z8rh5ku_124">Explication :</span> Une <code class="code" id="z8rh5ku_125">interface</code> est une construction purement TypeScript. Elle n'existe pas &agrave; l'ex&eacute;cution et n'a aucun impact sur les performances. Son r&ocirc;le est d'aider le d&eacute;veloppeur et le compilateur en garantissant que la forme des objets est correcte, ce qui &eacute;vite de nombreuses erreurs et am&eacute;liore la productivit&eacute;.</p></li></ul><ol class="list _decimal" id="z8rh5ku_86" type="1" start="4"><li class="list__item" id="z8rh5ku_126"><p id="z8rh5ku_127"><span class="control" id="z8rh5ku_128">Mot-cl&eacute; TypeScript pour une propri&eacute;t&eacute; non modifiable :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_87"><li class="list__item" id="z8rh5ku_129"><p id="z8rh5ku_131"><span class="control" id="z8rh5ku_132">R&eacute;ponse :</span> <code class="code" id="z8rh5ku_133">readonly</code>.</p></li><li class="list__item" id="z8rh5ku_130"><p id="z8rh5ku_134"><span class="control" id="z8rh5ku_135">Explication :</span> <code class="code" id="z8rh5ku_136">readonly id: number;</code> emp&ecirc;chera toute r&eacute;assignation de la propri&eacute;t&eacute; <code class="code" id="z8rh5ku_137">id</code> apr&egrave;s l'initialisation de l'objet.</p></li></ul><ol class="list _decimal" id="z8rh5ku_88" type="1" start="5"><li class="list__item" id="z8rh5ku_138"><p id="z8rh5ku_139"><span class="control" id="z8rh5ku_140">Fichier de configuration g&eacute;rant le remplacement des fichiers d'environnement :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_89"><li class="list__item" id="z8rh5ku_141"><p id="z8rh5ku_143"><span class="control" id="z8rh5ku_144">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_145">angular.json</code>.</p></li><li class="list__item" id="z8rh5ku_142"><p id="z8rh5ku_146"><span class="control" id="z8rh5ku_147">Explication :</span> C'est le fichier de configuration de l'espace de travail Angular qui contient toutes les instructions pour le build, le serve, les tests, y compris la section <code class="code" id="z8rh5ku_148">fileReplacements</code>.</p></li></ul></section></section><section class="chapter"><h2 id="module-1-ma-trise-de-rxjs" data-toc="module-1-ma-trise-de-rxjs">Module 1 : Ma&icirc;trise de RxJS</h2><section class="chapter"><h3 id="l-essentiel_6" data-toc="l-essentiel_6">L'essentiel</h3><ol class="list _decimal" id="z8rh5ku_151" type="1"><li class="list__item" id="z8rh5ku_161"><p id="z8rh5ku_162"><span class="control" id="z8rh5ku_163">Que re&ccedil;oit un nouvel abonn&eacute; &agrave; un <code class="code" id="z8rh5ku_164">BehaviorSubject</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_152"><li class="list__item" id="z8rh5ku_165"><p id="z8rh5ku_167"><span class="control" id="z8rh5ku_168">R&eacute;ponse : C.</span> La toute derni&egrave;re valeur qui a &eacute;t&eacute; &eacute;mise (ou la valeur initiale si aucune n'a &eacute;t&eacute; &eacute;mise).</p></li><li class="list__item" id="z8rh5ku_166"><p id="z8rh5ku_169"><span class="control" id="z8rh5ku_170">Explication :</span> C'est la caract&eacute;ristique principale du <code class="code" id="z8rh5ku_171">BehaviorSubject</code>. Il a une &quot;m&eacute;moire&quot; de la derni&egrave;re valeur et la fournit imm&eacute;diatement &agrave; tout nouvel abonn&eacute;, ce qui le rend parfait pour repr&eacute;senter des &eacute;tats.</p></li></ul><ol class="list _decimal" id="z8rh5ku_153" type="1" start="2"><li class="list__item" id="z8rh5ku_172"><p id="z8rh5ku_173"><span class="control" id="z8rh5ku_174">Diff&eacute;rence entre <code class="code" id="z8rh5ku_175">switchMap</code> et <code class="code" id="z8rh5ku_176">mergeMap</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_154"><li class="list__item" id="z8rh5ku_177"><p id="z8rh5ku_178"><span class="control" id="z8rh5ku_179">R&eacute;ponse type :</span> <code class="code" id="z8rh5ku_180">switchMap</code> g&egrave;re la concurrence en annulant l'observable interne pr&eacute;c&eacute;dent d&egrave;s qu'un nouveau se pr&eacute;sente (utile pour les recherches). <code class="code" id="z8rh5ku_181">mergeMap</code> ne se soucie pas de la concurrence et ex&eacute;cute tous les observables internes en parall&egrave;le, &eacute;mettant leurs valeurs d&egrave;s qu'elles arrivent (utile pour des actions ind&eacute;pendantes comme des uploads de fichiers).</p></li></ul><ol class="list _decimal" id="z8rh5ku_155" type="1" start="3"><li class="list__item" id="z8rh5ku_182"><p id="z8rh5ku_183"><span class="control" id="z8rh5ku_184">Op&eacute;rateur pour une s&eacute;quence d'appels API :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_156"><li class="list__item" id="z8rh5ku_185"><p id="z8rh5ku_187"><span class="control" id="z8rh5ku_188">R&eacute;ponse : D.</span> <code class="code" id="z8rh5ku_189">concatMap</code>.</p></li><li class="list__item" id="z8rh5ku_186"><p id="z8rh5ku_190"><span class="control" id="z8rh5ku_191">Explication :</span> <code class="code" id="z8rh5ku_192">concatMap</code> est le seul des quatre qui garantit l'ordre d'ex&eacute;cution en attendant que l'observable interne pr&eacute;c&eacute;dent se termine (<code class="code" id="z8rh5ku_193">complete</code>) avant de s'abonner au suivant.</p></li></ul><ol class="list _decimal" id="z8rh5ku_157" type="1" start="4"><li class="list__item" id="z8rh5ku_194"><p id="z8rh5ku_195"><span class="control" id="z8rh5ku_196">R&ocirc;le de l'objet retourn&eacute; par <code class="code" id="z8rh5ku_197">.subscribe()</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_158"><li class="list__item" id="z8rh5ku_198"><p id="z8rh5ku_199"><span class="control" id="z8rh5ku_200">R&eacute;ponse type :</span> L'objet retourn&eacute; est une <code class="code" id="z8rh5ku_201">Subscription</code>. Son r&ocirc;le est de repr&eacute;senter l'abonnement en cours. Il est crucial car il contient la m&eacute;thode <code class="code" id="z8rh5ku_202">.unsubscribe()</code>, qui doit &ecirc;tre appel&eacute;e pour arr&ecirc;ter d'&eacute;couter et lib&eacute;rer la m&eacute;moire lorsque le composant est d&eacute;truit, afin d'&eacute;viter les fuites de m&eacute;moire.</p></li></ul><ol class="list _decimal" id="z8rh5ku_159" type="1" start="5"><li class="list__item" id="z8rh5ku_203"><p id="z8rh5ku_204"><span class="control" id="z8rh5ku_205">Diff&eacute;rence entre <code class="code" id="z8rh5ku_206">Observable</code> et <code class="code" id="z8rh5ku_207">Subject</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_160"><li class="list__item" id="z8rh5ku_208"><p id="z8rh5ku_210"><span class="control" id="z8rh5ku_211">R&eacute;ponse : B.</span> Un <code class="code" id="z8rh5ku_212">Subject</code> est &quot;chaud&quot; et multicast (partage ses valeurs), tandis qu'un <code class="code" id="z8rh5ku_213">Observable</code> standard est &quot; froid&quot; et unicast (chaque abonn&eacute; a sa propre ex&eacute;cution).</p></li><li class="list__item" id="z8rh5ku_209"><p id="z8rh5ku_214"><span class="control" id="z8rh5ku_215">Explication :</span> Un <code class="code" id="z8rh5ku_216">Observable</code> est comme une recette de cuisine ; chaque personne qui la suit (s'abonne) fait son propre plat. Un <code class="code" id="z8rh5ku_217">Subject</code> est comme un haut-parleur ; il diffuse le m&ecirc;me message &agrave; tous ceux qui &eacute;coutent en m&ecirc;me temps.</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin_1" data-toc="pour-aller-plus-loin_1">Pour aller plus loin</h3><ol class="list _decimal" id="z8rh5ku_218" type="1"><li class="list__item" id="z8rh5ku_229"><p id="z8rh5ku_230"><span class="control" id="z8rh5ku_231">Que doit retourner un <code class="code" id="z8rh5ku_232">catchError</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_219"><li class="list__item" id="z8rh5ku_233"><p id="z8rh5ku_235"><span class="control" id="z8rh5ku_236">R&eacute;ponse : C.</span> Un nouvel <code class="code" id="z8rh5ku_237">Observable</code> (par exemple, cr&eacute;&eacute; avec <code class="code" id="z8rh5ku_238">of()</code> ou <code class="code" id="z8rh5ku_239">throwError()</code>).</p></li><li class="list__item" id="z8rh5ku_234"><p id="z8rh5ku_240"><span class="control" id="z8rh5ku_241">Explication :</span> Le contrat de <code class="code" id="z8rh5ku_242">catchError</code> est de remplacer le flux qui a &eacute;chou&eacute; par un nouveau flux. Si vous retournez une valeur simple, le flux s'arr&ecirc;tera. En retournant un <code class="code" id="z8rh5ku_243">Observable</code>, vous permettez &agrave; la cha&icirc;ne de continuer.</p></li></ul><ol class="list _decimal" id="z8rh5ku_220" type="1" start="2"><li class="list__item" id="z8rh5ku_244"><p id="z8rh5ku_245"><span class="control" id="z8rh5ku_246">Sc&eacute;nario pour <code class="code" id="z8rh5ku_247">combineLatest</code> vs <code class="code" id="z8rh5ku_248">forkJoin</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_221"><li class="list__item" id="z8rh5ku_249"><p id="z8rh5ku_250"><span class="control" id="z8rh5ku_251">R&eacute;ponse type :</span> J'utiliserais <code class="code" id="z8rh5ku_252">forkJoin</code> pour le chargement initial d'un dashboard : il faut attendre que les infos utilisateur ET les statistiques soient arriv&eacute;es avant d'afficher la page. J'utiliserais <code class="code" id="z8rh5ku_253">combineLatest</code> pour une page avec des filtres multiples (cat&eacute;gorie, prix, ordre de tri) : d&egrave;s qu'un des filtres change, <code class="code" id="z8rh5ku_254">combineLatest</code> &eacute;met les derni&egrave;res valeurs de tous les filtres, me permettant de relancer la recherche avec les bons param&egrave;tres.</p></li></ul><ol class="list _decimal" id="z8rh5ku_222" type="1" start="3"><li class="list__item" id="z8rh5ku_255"><p id="z8rh5ku_256"><span class="control" id="z8rh5ku_257">Op&eacute;rateur pour garantir que <code class="code" id="z8rh5ku_258">isSaving</code> repasse &agrave; <code class="code" id="z8rh5ku_259">false</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_223"><li class="list__item" id="z8rh5ku_260"><p id="z8rh5ku_262"><span class="control" id="z8rh5ku_263">R&eacute;ponse :</span> <code class="code" id="z8rh5ku_264">finalize</code>.</p></li><li class="list__item" id="z8rh5ku_261"><p id="z8rh5ku_265"><span class="control" id="z8rh5ku_266">Explication :</span> <code class="code" id="z8rh5ku_267">finalize</code> ex&eacute;cute son callback que l'observable se termine par un succ&egrave;s (<code class="code" id="z8rh5ku_268">complete</code>) ou un &eacute;chec (<code class="code" id="z8rh5ku_269">error</code>), ce qui en fait l'endroit parfait et garanti pour du code de nettoyage.</p></li></ul><ol class="list _decimal" id="z8rh5ku_224" type="1" start="4"><li class="list__item" id="z8rh5ku_270"><p id="z8rh5ku_271"><span class="control" id="z8rh5ku_272">Que se passe-t-il si un <code class="code" id="z8rh5ku_273">Observable</code> dans <code class="code" id="z8rh5ku_274">forkJoin</code> ne se termine jamais ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_225"><li class="list__item" id="z8rh5ku_275"><p id="z8rh5ku_277"><span class="control" id="z8rh5ku_278">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_279">forkJoin</code> n'&eacute;mettra jamais de valeur.</p></li><li class="list__item" id="z8rh5ku_276"><p id="z8rh5ku_280"><span class="control" id="z8rh5ku_281">Explication :</span> <code class="code" id="z8rh5ku_282">forkJoin</code> attend que TOUS les observables fournis aient &eacute;mis leur signal <code class="code" id="z8rh5ku_283">complete</code>. Si l'un d'eux ne le fait jamais, <code class="code" id="z8rh5ku_284">forkJoin</code> attendra ind&eacute;finiment.</p></li></ul><ol class="list _decimal" id="z8rh5ku_226" type="1" start="5"><li class="list__item" id="z8rh5ku_285"><p id="z8rh5ku_286"><span class="control" id="z8rh5ku_287">Danger si on oublie <code class="code" id="z8rh5ku_288">catchError</code> sur les <code class="code" id="z8rh5ku_289">Observable</code>s internes de <code class="code" id="z8rh5ku_290">forkJoin</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_227"><li class="list__item" id="z8rh5ku_291"><p id="z8rh5ku_292"><span class="control" id="z8rh5ku_293">R&eacute;ponse type :</span> Le principal danger est que si un seul des observables internes &eacute;met une erreur, l'ensemble du <code class="code" id="z8rh5ku_294">forkJoin</code> &eacute;choue imm&eacute;diatement. Vous ne recevrez aucune des donn&eacute;es des autres observables, m&ecirc;me celles qui ont r&eacute;ussi. L'application de <code class="code" id="z8rh5ku_295">catchError</code> sur chaque flux interne permet d'isoler les erreurs et de laisser <code class="code" id="z8rh5ku_296">forkJoin</code> se terminer avec les r&eacute;sultats disponibles.</p></li></ul></section></section><section class="chapter"><h2 id="module-2-strat-gies-de-gestion-d-tat" data-toc="module-2-strat-gies-de-gestion-d-tat">Module 2 : Strat&eacute;gies de Gestion d'&Eacute;tat</h2><section class="chapter"><h3 id="l-essentiel_5" data-toc="l-essentiel_5">L'essentiel</h3><ol class="list _decimal" id="z8rh5ku_299" type="1"><li class="list__item" id="z8rh5ku_309"><p id="z8rh5ku_310"><span class="control" id="z8rh5ku_311">Qu'est-ce que le &quot;prop drilling&quot; ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_300"><li class="list__item" id="z8rh5ku_312"><p id="z8rh5ku_314"><span class="control" id="z8rh5ku_315">R&eacute;ponse : B.</span> Le fait de devoir passer des donn&eacute;es &agrave; travers plusieurs niveaux de composants interm&eacute;diaires qui n'en ont pas besoin.</p></li><li class="list__item" id="z8rh5ku_313"><p id="z8rh5ku_316"><span class="control" id="z8rh5ku_317">Explication :</span> C'est un probl&egrave;me de maintenance o&ugrave; un composant se retrouve avec des <code class="code" id="z8rh5ku_318">@Input()</code> et <code class="code" id="z8rh5ku_319">@Output()</code> qui ne lui servent qu'&agrave; faire transiter de l'information vers un enfant lointain, ce qui rend le code plus complexe et plus fragile.</p></li></ul><ol class="list _decimal" id="z8rh5ku_301" type="1" start="2"><li class="list__item" id="z8rh5ku_320"><p id="z8rh5ku_321"><span class="control" id="z8rh5ku_322">Pourquoi utiliser <code class="code" id="z8rh5ku_323">.asObservable()</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_302"><li class="list__item" id="z8rh5ku_324"><p id="z8rh5ku_325"><span class="control" id="z8rh5ku_326">R&eacute;ponse type :</span> On expose l'&eacute;tat via <code class="code" id="z8rh5ku_327">.asObservable()</code> pour prot&eacute;ger l'&eacute;tat et respecter le principe d' encapsulation. <code class="code" id="z8rh5ku_328">.asObservable()</code> retourne une version &quot;lecture seule&quot; du <code class="code" id="z8rh5ku_329">BehaviorSubject</code>. Cela emp&ecirc;che les composants consommateurs de pousser de nouvelles valeurs directement dans le <code class="code" id="z8rh5ku_330">Subject</code> (avec <code class="code" id="z8rh5ku_331">.next()</code>), les for&ccedil;ant &agrave; passer par les m&eacute;thodes publiques du service, ce qui garantit que l'&eacute;tat est modifi&eacute; de mani&egrave;re contr&ocirc;l&eacute;e et pr&eacute;visible.</p></li></ul><ol class="list _decimal" id="z8rh5ku_303" type="1" start="3"><li class="list__item" id="z8rh5ku_332"><p id="z8rh5ku_333"><span class="control" id="z8rh5ku_334">Avantage d'un <code class="code" id="z8rh5ku_335">BehaviorSubject</code> sur un <code class="code" id="z8rh5ku_336">Subject</code> pour g&eacute;rer un &eacute;tat :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_304"><li class="list__item" id="z8rh5ku_337"><p id="z8rh5ku_339"><span class="control" id="z8rh5ku_340">R&eacute;ponse : B.</span> Il fournit la derni&egrave;re valeur de l'&eacute;tat &agrave; tout nouvel abonn&eacute;.</p></li><li class="list__item" id="z8rh5ku_338"><p id="z8rh5ku_341"><span class="control" id="z8rh5ku_342">Explication :</span> Un &eacute;tat a toujours une valeur actuelle. Le <code class="code" id="z8rh5ku_343">BehaviorSubject</code> mod&eacute;lise parfaitement ce concept en garantissant qu'un composant qui s'abonne tardivement re&ccedil;oive imm&eacute;diatement l'&eacute;tat le plus r&eacute;cent, sans avoir &agrave; attendre un changement.</p></li></ul><ol class="list _decimal" id="z8rh5ku_305" type="1" start="4"><li class="list__item" id="z8rh5ku_344"><p id="z8rh5ku_345"><span class="control" id="z8rh5ku_346">Comment un composant doit-il demander une modification de l'&eacute;tat ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_306"><li class="list__item" id="z8rh5ku_347"><p id="z8rh5ku_349"><span class="control" id="z8rh5ku_350">R&eacute;ponse : C.</span> En appelant une m&eacute;thode publique expos&eacute;e par le service.</p></li><li class="list__item" id="z8rh5ku_348"><p id="z8rh5ku_351"><span class="control" id="z8rh5ku_352">Explication :</span> C'est le principe de l'API publique du service stateful. Les composants ne modifient jamais l'&eacute;tat directement ; ils demandent une modification via une m&eacute;thode, qui contient la logique pour mettre &agrave; jour l'&eacute;tat interne.</p></li></ul><ol class="list _decimal" id="z8rh5ku_307" type="1" start="5"><li class="list__item" id="z8rh5ku_353"><p id="z8rh5ku_354"><span class="control" id="z8rh5ku_355">Inconv&eacute;nient potentiel du &quot;store fait-main&quot; :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_308"><li class="list__item" id="z8rh5ku_356"><p id="z8rh5ku_357"><span class="control" id="z8rh5ku_358">R&eacute;ponse type :</span> Pour une tr&egrave;s grande application, cette approche peut manquer de structure. La logique de modification est dispers&eacute;e, il n'y a pas d'outils de d&eacute;bogage avanc&eacute;s (comme le time-travel debugging), et la gestion des effets de bord (appels API) n'est pas formalis&eacute;e, ce qui peut rendre le code plus difficile &agrave; maintenir et &agrave; d&eacute;boguer en &eacute;quipe.</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin_2" data-toc="pour-aller-plus-loin_2">Pour aller plus loin</h3><ol class="list _decimal" id="z8rh5ku_359" type="1"><li class="list__item" id="z8rh5ku_372"><p id="z8rh5ku_373"><span class="control" id="z8rh5ku_374">Principe qui N'APPARTIENT PAS &agrave; NgRx/Redux :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_360"><li class="list__item" id="z8rh5ku_375"><p id="z8rh5ku_377"><span class="control" id="z8rh5ku_378">R&eacute;ponse : B.</span> Les composants peuvent modifier directement l'&eacute;tat pour plus de simplicit&eacute;.</p></li><li class="list__item" id="z8rh5ku_376"><p id="z8rh5ku_379"><span class="control" id="z8rh5ku_380">Explication :</span> C'est l'exact oppos&eacute; du principe fondamental de NgRx qui stipule que l'&eacute;tat est en lecture seule (<code class="code" id="z8rh5ku_381">readonly</code>). Toute modification doit passer par le dispatch d'une action.</p></li></ul><ol class="list _decimal" id="z8rh5ku_361" type="1" start="2"><li class="list__item" id="z8rh5ku_382"><p id="z8rh5ku_383"><span class="control" id="z8rh5ku_384">R&ocirc;le d'un <code class="code" id="z8rh5ku_385">Effect</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_362"><li class="list__item" id="z8rh5ku_386"><p id="z8rh5ku_387"><span class="control" id="z8rh5ku_388">R&eacute;ponse type :</span> Un <code class="code" id="z8rh5ku_389">Effect</code> g&egrave;re les effets de bord (side effects) comme les appels API, l'acc&egrave;s au <code class="code" id="z8rh5ku_390">localStorage</code>, ou les WebSockets. Il &eacute;coute les actions, effectue une t&acirc;che asynchrone, puis dispatche une nouvelle action (de succ&egrave;s ou d'&eacute;chec) en r&eacute;ponse. Il ne modifie jamais directement l'&eacute;tat pour respecter le principe de s&eacute;paration des pr&eacute;occupations : les <code class="code" id="z8rh5ku_391">Reducers</code> sont les seuls responsables synchrones et purs du calcul de l'&eacute;tat.</p></li></ul><ol class="list _decimal" id="z8rh5ku_363" type="1" start="3"><li class="list__item" id="z8rh5ku_392"><p id="z8rh5ku_393"><span class="control" id="z8rh5ku_394">R&ocirc;le principal d'un <code class="code" id="z8rh5ku_395">Reducer</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_364"><li class="list__item" id="z8rh5ku_396"><p id="z8rh5ku_398"><span class="control" id="z8rh5ku_399">R&eacute;ponse : B.</span> Calculer un nouvel &eacute;tat en r&eacute;ponse &agrave; une action.</p></li><li class="list__item" id="z8rh5ku_397"><p id="z8rh5ku_400"><span class="control" id="z8rh5ku_401">Explication :</span> Le reducer est une fonction pure. Sa seule et unique responsabilit&eacute; est de prendre l'&eacute;tat actuel et une action, et de retourner un nouvel &eacute;tat.</p></li></ul><ol class="list _decimal" id="z8rh5ku_365" type="1" start="4"><li class="list__item" id="z8rh5ku_402"><p id="z8rh5ku_403"><span class="control" id="z8rh5ku_404">Pourquoi les <code class="code" id="z8rh5ku_405">Selectors</code> sont-ils performants ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_366"><li class="list__item" id="z8rh5ku_406"><p id="z8rh5ku_407"><span class="control" id="z8rh5ku_408">R&eacute;ponse type :</span> Les <code class="code" id="z8rh5ku_409">Selectors</code> sont performants car ils sont &quot;m&eacute;mo&iuml;s&eacute;s&quot; (memoized). Cela signifie que NgRx met en cache le r&eacute;sultat d'un selector. Si le selector est appel&eacute; &agrave; nouveau et que les parties de l'&eacute;tat dont il d&eacute;pend n'ont pas chang&eacute;, il retourne instantan&eacute;ment le r&eacute;sultat mis en cache au lieu de refaire le calcul.</p></li></ul><ol class="list _decimal" id="z8rh5ku_367" type="1" start="5"><li class="list__item" id="z8rh5ku_410"><p id="z8rh5ku_411"><span class="control" id="z8rh5ku_412">Premi&egrave;re chose qu'un composant fait pour initier un changement d'&eacute;tat avec NgRx :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_368"><li class="list__item" id="z8rh5ku_413"><p id="z8rh5ku_415"><span class="control" id="z8rh5ku_416">R&eacute;ponse : C.</span> Il dispatche une <code class="code" id="z8rh5ku_417">Action</code> au <code class="code" id="z8rh5ku_418">Store</code>.</p></li><li class="list__item" id="z8rh5ku_414"><p id="z8rh5ku_419"><span class="control" id="z8rh5ku_420">Explication :</span> C'est le point de d&eacute;part de tout le flux NgRx. L'action est la description de l'&eacute;v&eacute;nement qui a eu lieu.</p></li></ul><p id="z8rh5ku_370"><span class="emphasis" id="z8rh5ku_421">... Je vais continuer sur ce mod&egrave;le pour les modules restants. Les r&eacute;ponses et explications sont g&eacute;n&eacute;r&eacute;es en suivant la logique du cours et les principes fondamentaux de chaque technologie abord&eacute;e.</span></p></section></section><section class="chapter"><h2 id="module-3-patrons-de-conception-de-composants-et-optimisation" data-toc="module-3-patrons-de-conception-de-composants-et-optimisation">Module 3 : Patrons de Conception de Composants et Optimisation</h2><section class="chapter"><h3 id="l-essentiel_4" data-toc="l-essentiel_4">L'essentiel</h3><ol class="list _decimal" id="z8rh5ku_424" type="1"><li class="list__item" id="z8rh5ku_434"><p id="z8rh5ku_435"><span class="control" id="z8rh5ku_436">Responsabilit&eacute; qui N'APPARTIENT PAS &agrave; un composant de pr&eacute;sentation :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_425"><li class="list__item" id="z8rh5ku_437"><p id="z8rh5ku_439"><span class="control" id="z8rh5ku_440">R&eacute;ponse : B.</span> Injecter un service pour r&eacute;cup&eacute;rer des donn&eacute;es.</p></li><li class="list__item" id="z8rh5ku_438"><p id="z8rh5ku_441"><span class="control" id="z8rh5ku_442">Explication :</span> C'est la responsabilit&eacute; d'un composant &quot;Container&quot; (intelligent). Un composant de pr&eacute;sentation (&quot; Dumb&quot;) est isol&eacute; et ne conna&icirc;t pas l'origine des donn&eacute;es ; il les re&ccedil;oit uniquement via <code class="code" id="z8rh5ku_443">@Input()</code>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_426" type="1" start="2"><li class="list__item" id="z8rh5ku_444"><p id="z8rh5ku_445"><span class="control" id="z8rh5ku_446">Pourquoi l'immutabilit&eacute; est-elle n&eacute;cessaire pour <code class="code" id="z8rh5ku_447">OnPush</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_427"><li class="list__item" id="z8rh5ku_448"><p id="z8rh5ku_449"><span class="control" id="z8rh5ku_450">R&eacute;ponse type :</span> La strat&eacute;gie <code class="code" id="z8rh5ku_451">OnPush</code> optimise la d&eacute;tection de changement en ne se red&eacute;clenchant que si les r&eacute;f&eacute;rences des <code class="code" id="z8rh5ku_452">@Input()</code> changent. Si on mute une propri&eacute;t&eacute; d'un objet (<code class="code" id="z8rh5ku_453">user.name = 'new'</code>), la r&eacute;f&eacute;rence de l'objet <code class="code" id="z8rh5ku_454">user</code> reste la m&ecirc;me, et Angular <code class="code" id="z8rh5ku_455">OnPush</code> ne voit aucun changement. En cr&eacute;ant un nouvel objet (<code class="code" id="z8rh5ku_456">user = { ...user, name: 'new' }</code>), on change la r&eacute;f&eacute;rence, ce qui d&eacute;clenche la d&eacute;tection de changement.</p></li></ul><ol class="list _decimal" id="z8rh5ku_428" type="1" start="3"><li class="list__item" id="z8rh5ku_457"><p id="z8rh5ku_458"><span class="control" id="z8rh5ku_459">Principal b&eacute;n&eacute;fice de <code class="code" id="z8rh5ku_460">trackBy</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_429"><li class="list__item" id="z8rh5ku_461"><p id="z8rh5ku_463"><span class="control" id="z8rh5ku_464">R&eacute;ponse : B.</span> Cela emp&ecirc;che Angular de d&eacute;truire et recr&eacute;er inutilement des &eacute;l&eacute;ments du DOM lorsque la liste est mise &agrave; jour.</p></li><li class="list__item" id="z8rh5ku_462"><p id="z8rh5ku_465"><span class="control" id="z8rh5ku_466">Explication :</span> En fournissant un identifiant unique, <code class="code" id="z8rh5ku_467">trackBy</code> aide Angular &agrave; reconna&icirc;tre les &eacute;l&eacute;ments qui ont simplement &eacute;t&eacute; d&eacute;plac&eacute;s ou modifi&eacute;s, lui permettant d'effectuer des mises &agrave; jour du DOM beaucoup plus efficaces et performantes.</p></li></ul><ol class="list _decimal" id="z8rh5ku_430" type="1" start="4"><li class="list__item" id="z8rh5ku_468"><p id="z8rh5ku_469"><span class="control" id="z8rh5ku_470">Comment un &quot;Container&quot; est-il inform&eacute; d'une action dans un &quot;Presentational&quot; ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_431"><li class="list__item" id="z8rh5ku_471"><p id="z8rh5ku_472"><span class="control" id="z8rh5ku_473">R&eacute;ponse type :</span> Le composant de pr&eacute;sentation &eacute;met un &eacute;v&eacute;nement via un <code class="code" id="z8rh5ku_474">@Output()</code> d&eacute;cor&eacute; d'un <code class="code" id="z8rh5ku_475">EventEmitter</code>. Le composant conteneur &eacute;coute cet &eacute;v&eacute;nement dans son template (<code class="code" id="z8rh5ku_476">(userAction)=&quot;...&quot;</code>) et appelle une de ses m&eacute;thodes en r&eacute;ponse.</p></li></ul><ol class="list _decimal" id="z8rh5ku_432" type="1" start="5"><li class="list__item" id="z8rh5ku_477"><p id="z8rh5ku_478"><span class="control" id="z8rh5ku_479">&Eacute;v&eacute;nement qui NE d&eacute;clenchera PAS la d&eacute;tection de changement <code class="code" id="z8rh5ku_480">OnPush</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_433"><li class="list__item" id="z8rh5ku_481"><p id="z8rh5ku_483"><span class="control" id="z8rh5ku_484">R&eacute;ponse : C.</span> Son composant parent modifie une propri&eacute;t&eacute; d'un objet qui a &eacute;t&eacute; pass&eacute; en <code class="code" id="z8rh5ku_485">@Input()</code> au composant <code class="code" id="z8rh5ku_486">OnPush</code>.</p></li><li class="list__item" id="z8rh5ku_482"><p id="z8rh5ku_487"><span class="control" id="z8rh5ku_488">Explication :</span> C'est le pi&egrave;ge classique de la mutation. Comme la r&eacute;f&eacute;rence de l'objet n'a pas chang&eacute;, le composant <code class="code" id="z8rh5ku_489">OnPush</code> ne se mettra pas &agrave; jour.</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin_3" data-toc="pour-aller-plus-loin_3">Pour aller plus loin</h3><ol class="list _decimal" id="z8rh5ku_490" type="1"><li class="list__item" id="z8rh5ku_501"><p id="z8rh5ku_502"><span class="control" id="z8rh5ku_503">B&eacute;n&eacute;fice principal du Lazy Loading :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_491"><li class="list__item" id="z8rh5ku_504"><p id="z8rh5ku_506"><span class="control" id="z8rh5ku_507">R&eacute;ponse : B.</span> Il r&eacute;duit la taille du bundle JavaScript initial, am&eacute;liorant le temps de chargement per&ccedil;u.</p></li><li class="list__item" id="z8rh5ku_505"><p id="z8rh5ku_508"><span class="control" id="z8rh5ku_509">Explication :</span> Le Lazy Loading est une technique de &quot;code splitting&quot;. Elle permet de ne charger le code d'une section de l'application que lorsque l'utilisateur en a besoin, ce qui rend le chargement initial beaucoup plus rapide.</p></li></ul><ol class="list _decimal" id="z8rh5ku_492" type="1" start="2"><li class="list__item" id="z8rh5ku_510"><p id="z8rh5ku_511"><span class="control" id="z8rh5ku_512">R&ocirc;le de <code class="code" id="z8rh5ku_513">import()</code> dans le lazy loading :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_493"><li class="list__item" id="z8rh5ku_514"><p id="z8rh5ku_515"><span class="control" id="z8rh5ku_516">R&eacute;ponse type :</span> <code class="code" id="z8rh5ku_517">import()</code> est la syntaxe d'importation dynamique de JavaScript. Contrairement &agrave; l'instruction <code class="code" id="z8rh5ku_518">import</code> statique, elle est trait&eacute;e &agrave; l'ex&eacute;cution et retourne une <code class="code" id="z8rh5ku_519">Promise</code>. Les outils de build (comme Vite ou Webpack) utilisent cette syntaxe comme un signal pour cr&eacute;er un &quot;chunk&quot; (un fichier JavaScript s&eacute;par&eacute;) pour le module import&eacute;, ce qui est la base du code splitting.</p></li></ul><ol class="list _decimal" id="z8rh5ku_494" type="1" start="3"><li class="list__item" id="z8rh5ku_520"><p id="z8rh5ku_521"><span class="control" id="z8rh5ku_522">Path pour une sous-route en lazy loading :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_495"><li class="list__item" id="z8rh5ku_523"><p id="z8rh5ku_525"><span class="control" id="z8rh5ku_526">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_527">edit</code>.</p></li><li class="list__item" id="z8rh5ku_524"><p id="z8rh5ku_528"><span class="control" id="z8rh5ku_529">Explication :</span> Le fichier de routes d'une section charg&eacute;e paresseusement h&eacute;rite du pr&eacute;fixe de la route parente. Si la route parente est <code class="code" id="z8rh5ku_530">path: 'profile'</code>, la route pour <code class="code" id="z8rh5ku_531">/profile/edit</code> &agrave; l'int&eacute;rieur de <code class="code" id="z8rh5ku_532">profile.routes.ts</code> aura simplement <code class="code" id="z8rh5ku_533">path: 'edit'</code>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_496" type="1" start="4"><li class="list__item" id="z8rh5ku_534"><p id="z8rh5ku_535"><span class="control" id="z8rh5ku_536">Comment v&eacute;rifier que le lazy loading fonctionne ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_497"><li class="list__item" id="z8rh5ku_537"><p id="z8rh5ku_538"><span class="control" id="z8rh5ku_539">R&eacute;ponse type :</span> En utilisant l'onglet &quot;R&eacute;seau&quot; (Network) des outils de d&eacute;veloppement du navigateur. Au chargement initial, seul le bundle principal est charg&eacute;. Lorsque l'on navigue vers la route &quot;paresseuse&quot;, on doit voir une nouvelle requ&ecirc;te r&eacute;seau appara&icirc;tre pour t&eacute;l&eacute;charger le &quot;chunk&quot; JavaScript correspondant &agrave; cette section.</p></li></ul><ol class="list _decimal" id="z8rh5ku_498" type="1" start="5"><li class="list__item" id="z8rh5ku_540"><p id="z8rh5ku_541"><span class="control" id="z8rh5ku_542">Meilleur candidat pour le lazy loading :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_499"><li class="list__item" id="z8rh5ku_543"><p id="z8rh5ku_545"><span class="control" id="z8rh5ku_546">R&eacute;ponse : C.</span> Une section &quot;Administration&quot; complexe, acc&eacute;d&eacute;e seulement par un petit nombre d'utilisateurs.</p></li><li class="list__item" id="z8rh5ku_544"><p id="z8rh5ku_547"><span class="control" id="z8rh5ku_548">Explication :</span> Il est inutile de faire charger le code de la section admin &agrave; tous les utilisateurs, surtout si la plupart d'entre eux n'y acc&eacute;deront jamais. C'est le candidat parfait pour &ecirc;tre s&eacute;par&eacute; du bundle principal.</p></li></ul></section></section><section class="chapter"><h2 id="module-4-gardiens-et-intercepteurs" data-toc="module-4-gardiens-et-intercepteurs">Module 4 : Gardiens et Intercepteurs</h2><section class="chapter"><h3 id="l-essentiel_3" data-toc="l-essentiel_3">L'essentiel</h3><ol class="list _decimal" id="z8rh5ku_551" type="1"><li class="list__item" id="z8rh5ku_561"><p id="z8rh5ku_562"><span class="control" id="z8rh5ku_563">R&ocirc;le principal d'un garde <code class="code" id="z8rh5ku_564">CanActivate</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_552"><li class="list__item" id="z8rh5ku_565"><p id="z8rh5ku_567"><span class="control" id="z8rh5ku_568">R&eacute;ponse : B.</span> Contr&ocirc;ler si un utilisateur peut acc&eacute;der &agrave; une route.</p></li><li class="list__item" id="z8rh5ku_566"><p id="z8rh5ku_569"><span class="control" id="z8rh5ku_570">Explication :</span> <code class="code" id="z8rh5ku_571">CanActivate</code> est comme un videur &agrave; l'entr&eacute;e d'une route. Il s'ex&eacute;cute avant que la route ne soit activ&eacute;e et sa r&eacute;ponse (<code class="code" id="z8rh5ku_572">true</code> ou <code class="code" id="z8rh5ku_573">false</code>) d&eacute;termine si la navigation peut se poursuivre.</p></li></ul><ol class="list _decimal" id="z8rh5ku_553" type="1" start="2"><li class="list__item" id="z8rh5ku_574"><p id="z8rh5ku_575"><span class="control" id="z8rh5ku_576">Pourquoi utiliser <code class="code" id="z8rh5ku_577">request.clone()</code> dans un <code class="code" id="z8rh5ku_578">HttpInterceptor</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_554"><li class="list__item" id="z8rh5ku_579"><p id="z8rh5ku_580"><span class="control" id="z8rh5ku_581">R&eacute;ponse type :</span> Les objets <code class="code" id="z8rh5ku_582">HttpRequest</code> (et <code class="code" id="z8rh5ku_583">HttpResponse</code>) sont immuables. Cela signifie qu'on ne peut pas les modifier directement. Pour ajouter un header, on doit cr&eacute;er une copie de la requ&ecirc;te originale en utilisant la m&eacute;thode <code class="code" id="z8rh5ku_584">.clone()</code> et en lui passant les modifications souhait&eacute;es.</p></li></ul><ol class="list _decimal" id="z8rh5ku_555" type="1" start="3"><li class="list__item" id="z8rh5ku_585"><p id="z8rh5ku_586"><span class="control" id="z8rh5ku_587">Garde pour un formulaire non sauvegard&eacute; :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_556"><li class="list__item" id="z8rh5ku_588"><p id="z8rh5ku_590"><span class="control" id="z8rh5ku_591">R&eacute;ponse :</span> <code class="code" id="z8rh5ku_592">CanDeactivate</code>.</p></li><li class="list__item" id="z8rh5ku_589"><p id="z8rh5ku_593"><span class="control" id="z8rh5ku_594">Explication :</span> <code class="code" id="z8rh5ku_595">CanDeactivate</code> est sp&eacute;cifiquement con&ccedil;u pour se d&eacute;clencher lorsqu'on tente de quitter une route. C'est l'outil parfait pour v&eacute;rifier une condition (comme un formulaire &quot;dirty&quot;) et potentiellement annuler la navigation.</p></li></ul><ol class="list _decimal" id="z8rh5ku_557" type="1" start="4"><li class="list__item" id="z8rh5ku_596"><p id="z8rh5ku_597"><span class="control" id="z8rh5ku_598">Comment enregistrer un <code class="code" id="z8rh5ku_599">HttpInterceptor</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_558"><li class="list__item" id="z8rh5ku_600"><p id="z8rh5ku_602"><span class="control" id="z8rh5ku_603">R&eacute;ponse : B.</span> En utilisant la fonction <code class="code" id="z8rh5ku_604">withInterceptors()</code> dans l'appel &agrave; <code class="code" id="z8rh5ku_605">provideHttpClient()</code>.</p></li><li class="list__item" id="z8rh5ku_601"><p id="z8rh5ku_606"><span class="control" id="z8rh5ku_607">Explication :</span> Dans les applications Angular modernes (standalone), c'est la m&eacute;thode recommand&eacute;e pour fournir des intercepteurs fonctionnels &agrave; l'application. <code class="code" id="z8rh5ku_608">provideHttpClient(withInterceptors([myInterceptor]))</code>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_559" type="1" start="5"><li class="list__item" id="z8rh5ku_609"><p id="z8rh5ku_610"><span class="control" id="z8rh5ku_611">Un <code class="code" id="z8rh5ku_612">Route Guard</code> peut-il rediriger ? Si oui, comment ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_560"><li class="list__item" id="z8rh5ku_613"><p id="z8rh5ku_614"><span class="control" id="z8rh5ku_615">R&eacute;ponse type :</span> Oui. Au lieu de retourner <code class="code" id="z8rh5ku_616">false</code>, un garde peut retourner une <code class="code" id="z8rh5ku_617">UrlTree</code>. La mani&egrave;re la plus simple de cr&eacute;er cette <code class="code" id="z8rh5ku_618">UrlTree</code> est d'injecter le <code class="code" id="z8rh5ku_619">Router</code> et de retourner <code class="code" id="z8rh5ku_620">router.parseUrl('/login')</code>, ce qui annulera la navigation actuelle et en d&eacute;clenchera une nouvelle vers la page de connexion.</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin_4" data-toc="pour-aller-plus-loin_4">Pour aller plus loin</h3><ol class="list _decimal" id="z8rh5ku_621" type="1"><li class="list__item" id="z8rh5ku_632"><p id="z8rh5ku_633"><span class="control" id="z8rh5ku_634">Avantage principal d'un <code class="code" id="z8rh5ku_635">Resolver</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_622"><li class="list__item" id="z8rh5ku_636"><p id="z8rh5ku_638"><span class="control" id="z8rh5ku_639">R&eacute;ponse : B.</span> Il permet de charger les donn&eacute;es n&eacute;cessaires &agrave; un composant avant son affichage, am&eacute;liorant l'UX.</p></li><li class="list__item" id="z8rh5ku_637"><p id="z8rh5ku_640"><span class="control" id="z8rh5ku_641">Explication :</span> En s'assurant que les donn&eacute;es sont disponibles avant que le composant ne soit rendu, les <code class="code" id="z8rh5ku_642">Resolvers</code> &eacute;liminent les &eacute;tats de chargement interm&eacute;diaires (&quot;flickering UI&quot;), ce qui donne une impression de fluidit&eacute; et de performance.</p></li></ul><ol class="list _decimal" id="z8rh5ku_623" type="1" start="2"><li class="list__item" id="z8rh5ku_643"><p id="z8rh5ku_644"><span class="control" id="z8rh5ku_645">Comment acc&eacute;der aux donn&eacute;es d'un <code class="code" id="z8rh5ku_646">Resolver</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_624"><li class="list__item" id="z8rh5ku_647"><p id="z8rh5ku_648"><span class="control" id="z8rh5ku_649">R&eacute;ponse type :</span> Dans le composant de la route, on injecte <code class="code" id="z8rh5ku_650">ActivatedRoute</code>. Les donn&eacute;es r&eacute;solues sont disponibles sur la propri&eacute;t&eacute; <code class="code" id="z8rh5ku_651">data</code> de cet objet (<code class="code" id="z8rh5ku_652">this.route.data</code>), qui est un <code class="code" id="z8rh5ku_653">Observable</code> contenant un objet o&ugrave; les cl&eacute;s correspondent &agrave; celles d&eacute;finies dans la propri&eacute;t&eacute; <code class="code" id="z8rh5ku_654">resolve</code> de la configuration de la route.</p></li></ul><ol class="list _decimal" id="z8rh5ku_625" type="1" start="3"><li class="list__item" id="z8rh5ku_655"><p id="z8rh5ku_656"><span class="control" id="z8rh5ku_657">Ordre d'ex&eacute;cution dans le cycle de vie d'une navigation :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_626"><li class="list__item" id="z8rh5ku_658"><p id="z8rh5ku_660"><span class="control" id="z8rh5ku_661">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_662">CanActivate</code> Guard -&gt; <code class="code" id="z8rh5ku_663">Resolver</code>-&gt; Affichage du Composant.</p></li><li class="list__item" id="z8rh5ku_659"><p id="z8rh5ku_664"><span class="control" id="z8rh5ku_665">Explication :</span> Le routeur v&eacute;rifie d'abord si l'acc&egrave;s est autoris&eacute; (<code class="code" id="z8rh5ku_666">CanActivate</code>), puis il pr&eacute;pare les donn&eacute;es (<code class="code" id="z8rh5ku_667">Resolver</code>), et seulement si tout r&eacute;ussit, il instancie et affiche le composant.</p></li></ul><ol class="list _decimal" id="z8rh5ku_627" type="1" start="4"><li class="list__item" id="z8rh5ku_668"><p id="z8rh5ku_669"><span class="control" id="z8rh5ku_670">O&ugrave; stocker un JWT pour qu'il persiste ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_628"><li class="list__item" id="z8rh5ku_671"><p id="z8rh5ku_673"><span class="control" id="z8rh5ku_674">R&eacute;ponse : C.</span> Dans <code class="code" id="z8rh5ku_675">localStorage</code>.</p></li><li class="list__item" id="z8rh5ku_672"><p id="z8rh5ku_676"><span class="control" id="z8rh5ku_677">Explication :</span> <code class="code" id="z8rh5ku_678">localStorage</code> persiste m&ecirc;me apr&egrave;s la fermeture du navigateur. <code class="code" id="z8rh5ku_679">sessionStorage</code> est vid&eacute; &agrave; la fermeture de l'onglet/navigateur, et une variable de service est vid&eacute;e &agrave; chaque rechargement de la page.</p></li></ul><ol class="list _decimal" id="z8rh5ku_629" type="1" start="5"><li class="list__item" id="z8rh5ku_680"><p id="z8rh5ku_681"><span class="control" id="z8rh5ku_682">R&ocirc;le PR&Eacute;CIS de l'intercepteur dans le flux JWT :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_630"><li class="list__item" id="z8rh5ku_683"><p id="z8rh5ku_684"><span class="control" id="z8rh5ku_685">R&eacute;ponse type :</span> Le r&ocirc;le de l' <code class="code" id="z8rh5ku_686">HttpInterceptor</code> est d'intercepter <span class="control" id="z8rh5ku_687">chaque requ&ecirc;te HTTP sortante</span>, de v&eacute;rifier si un JWT est stock&eacute;, et si c'est le cas, de **cloner la requ&ecirc;te pour y ajouter le header <code class="code" id="z8rh5ku_688">Authorization: Bearer &lt;token&gt;</code>** avant de la laisser continuer vers le serveur. Il centralise cette logique pour qu'on n'ait pas &agrave; le faire manuellement dans chaque service.</p></li></ul></section></section><section class="chapter"><h2 id="module-5-tests-unitaires" data-toc="module-5-tests-unitaires">Module 5 : Tests Unitaires</h2><section class="chapter"><h3 id="l-essentiel_2" data-toc="l-essentiel_2">L'essentiel</h3><ol class="list _decimal" id="z8rh5ku_691" type="1"><li class="list__item" id="z8rh5ku_701"><p id="z8rh5ku_702"><span class="control" id="z8rh5ku_703">R&ocirc;le de <code class="code" id="z8rh5ku_704">Karma</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_692"><li class="list__item" id="z8rh5ku_705"><p id="z8rh5ku_707"><span class="control" id="z8rh5ku_708">R&eacute;ponse : B.</span> Il ex&eacute;cute les tests dans un vrai navigateur et affiche les r&eacute;sultats.</p></li><li class="list__item" id="z8rh5ku_706"><p id="z8rh5ku_709"><span class="control" id="z8rh5ku_710">Explication :</span> Karma est le &quot;lanceur de tests&quot;. Jasmine fournit la structure (<code class="code" id="z8rh5ku_711">describe</code>, <code class="code" id="z8rh5ku_712">it</code>), et Karma prend ce code, d&eacute;marre un navigateur, y ex&eacute;cute les tests et rapporte les succ&egrave;s/&eacute;checs.</p></li></ul><ol class="list _decimal" id="z8rh5ku_693" type="1" start="2"><li class="list__item" id="z8rh5ku_713"><p id="z8rh5ku_714"><span class="control" id="z8rh5ku_715">Utilit&eacute; du <code class="code" id="z8rh5ku_716">HttpTestingController</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_694"><li class="list__item" id="z8rh5ku_717"><p id="z8rh5ku_718"><span class="control" id="z8rh5ku_719">R&eacute;ponse type :</span> <code class="code" id="z8rh5ku_720">HttpTestingController</code> est un outil du module <code class="code" id="z8rh5ku_721">HttpClientTestingModule</code> qui nous permet d'interagir avec le faux <code class="code" id="z8rh5ku_722">HttpClient</code>. Il nous permet de faire des assertions sur les requ&ecirc;tes qui sont faites (URL, m&eacute;thode) et de simuler des r&eacute;ponses ou des erreurs du serveur de mani&egrave;re contr&ocirc;l&eacute;e.</p></li></ul><ol class="list _decimal" id="z8rh5ku_695" type="1" start="3"><li class="list__item" id="z8rh5ku_723"><p id="z8rh5ku_724"><span class="control" id="z8rh5ku_725">&Agrave; quoi sert <code class="code" id="z8rh5ku_726">fixture.detectChanges()</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_696"><li class="list__item" id="z8rh5ku_727"><p id="z8rh5ku_728"><span class="control" id="z8rh5ku_729">R&eacute;ponse type :</span> <code class="code" id="z8rh5ku_730">fixture.detectChanges()</code> d&eacute;clenche manuellement un cycle de d&eacute;tection de changement d'Angular. C'est essentiel dans les tests pour mettre &agrave; jour la vue (le DOM) apr&egrave;s avoir modifi&eacute; une propri&eacute;t&eacute; de l'instance du composant, afin de pouvoir v&eacute;rifier que le rendu HTML a bien chang&eacute;.</p></li></ul><ol class="list _decimal" id="z8rh5ku_697" type="1" start="4"><li class="list__item" id="z8rh5ku_731"><p id="z8rh5ku_732"><span class="control" id="z8rh5ku_733">Diff&eacute;rence entre <code class="code" id="z8rh5ku_734">fixture.componentInstance</code> et <code class="code" id="z8rh5ku_735">fixture.nativeElement</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_698"><li class="list__item" id="z8rh5ku_736"><p id="z8rh5ku_738"><span class="control" id="z8rh5ku_739">R&eacute;ponse : B.</span> <code class="code" id="z8rh5ku_740">componentInstance</code> est la classe TypeScript, <code class="code" id="z8rh5ku_741">nativeElement</code> est l'&eacute;l&eacute;ment HTML rendu.</p></li><li class="list__item" id="z8rh5ku_737"><p id="z8rh5ku_742"><span class="control" id="z8rh5ku_743">Explication :</span> On utilise <code class="code" id="z8rh5ku_744">componentInstance</code> pour interagir avec les propri&eacute;t&eacute;s et les m&eacute;thodes de la classe du composant (ex: <code class="code" id="z8rh5ku_745">component.name = 'Test'</code>). On utilise <code class="code" id="z8rh5ku_746">nativeElement</code> pour interagir avec le DOM g&eacute;n&eacute;r&eacute; (ex: <code class="code" id="z8rh5ku_747">nativeElement.querySelector('h1')</code>).</p></li></ul><ol class="list _decimal" id="z8rh5ku_699" type="1" start="5"><li class="list__item" id="z8rh5ku_748"><p id="z8rh5ku_749"><span class="control" id="z8rh5ku_750">Pourquoi isoler les tests ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_700"><li class="list__item" id="z8rh5ku_751"><p id="z8rh5ku_752"><span class="control" id="z8rh5ku_753">R&eacute;ponse type :</span> L'isolation garantit qu'un test n'est pas influenc&eacute; par l'&eacute;tat laiss&eacute; par un test pr&eacute;c&eacute;dent. Cela rend les tests plus fiables, moins &quot;flaky&quot; (al&eacute;atoires), et plus faciles &agrave; d&eacute;boguer. Si un test &eacute;choue, on sait que c'est &agrave; cause de la logique qu'il teste, et non &agrave; cause d'un effet de bord d'un autre test.</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin_5" data-toc="pour-aller-plus-loin_5">Pour aller plus loin</h3><ol class="list _decimal" id="z8rh5ku_754" type="1"><li class="list__item" id="z8rh5ku_765"><p id="z8rh5ku_766"><span class="control" id="z8rh5ku_767">Comment fournir une fausse version d'un service dans le <code class="code" id="z8rh5ku_768">TestBed</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_755"><li class="list__item" id="z8rh5ku_769"><p id="z8rh5ku_771"><span class="control" id="z8rh5ku_772">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_773">providers: [{ provide: RealService, useValue: myFakeService }]</code>.</p></li><li class="list__item" id="z8rh5ku_770"><p id="z8rh5ku_774"><span class="control" id="z8rh5ku_775">Explication :</span> C'est le m&eacute;canisme d'injection de d&eacute;pendances de test d'Angular. On utilise la cl&eacute; <code class="code" id="z8rh5ku_776">provide</code> pour sp&eacute;cifier le &quot;token&quot; du service r&eacute;el, et <code class="code" id="z8rh5ku_777">useValue</code> (ou <code class="code" id="z8rh5ku_778">useClass</code>, <code class="code" id="z8rh5ku_779">useFactory</code>) pour dire &agrave; l'injecteur de fournir notre mock &agrave; la place.</p></li></ul><ol class="list _decimal" id="z8rh5ku_756" type="1" start="2"><li class="list__item" id="z8rh5ku_780"><p id="z8rh5ku_781"><span class="control" id="z8rh5ku_782">Diff&eacute;rence entre <code class="code" id="z8rh5ku_783">jasmine.createSpyObj</code> et <code class="code" id="z8rh5ku_784">spyOn</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_757"><li class="list__item" id="z8rh5ku_785"><p id="z8rh5ku_786"><span class="control" id="z8rh5ku_787">R&eacute;ponse type :</span> <code class="code" id="z8rh5ku_788">jasmine.createSpyObj</code> cr&eacute;e un objet factice complet &agrave; partir de rien, qui simule une interface avec des m&eacute;thodes espionnes. <code class="code" id="z8rh5ku_789">spyOn</code>, lui, s'attache &agrave; une m&eacute;thode sur un objet <span class="control" id="z8rh5ku_790">existant et r&eacute;el</span> pour l'espionner, potentiellement en laissant l'impl&eacute;mentation originale s'ex&eacute;cuter.</p></li></ul><ol class="list _decimal" id="z8rh5ku_758" type="1" start="3"><li class="list__item" id="z8rh5ku_791"><p id="z8rh5ku_792"><span class="control" id="z8rh5ku_793">Meilleure strat&eacute;gie pour tester <code class="code" id="z8rh5ku_794">debounceTime(500)</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_759"><li class="list__item" id="z8rh5ku_795"><p id="z8rh5ku_797"><span class="control" id="z8rh5ku_798">R&eacute;ponse : B.</span> La zone <code class="code" id="z8rh5ku_799">fakeAsync</code> avec un appel &agrave; <code class="code" id="z8rh5ku_800">tick(500)</code>.</p></li><li class="list__item" id="z8rh5ku_796"><p id="z8rh5ku_801"><span class="control" id="z8rh5ku_802">Explication :</span> <code class="code" id="z8rh5ku_803">fakeAsync</code> nous donne le contr&ocirc;le de l'horloge. <code class="code" id="z8rh5ku_804">tick(500)</code> simule l'&eacute;coulement de 500ms instantan&eacute;ment, rendant le test rapide et d&eacute;terministe, ce qui est id&eacute;al pour des op&eacute;rateurs temporels comme <code class="code" id="z8rh5ku_805">debounceTime</code> ou <code class="code" id="z8rh5ku_806">delay</code>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_760" type="1" start="4"><li class="list__item" id="z8rh5ku_807"><p id="z8rh5ku_808"><span class="control" id="z8rh5ku_809">&Agrave; quoi sert <code class="code" id="z8rh5ku_810">tick()</code> dans <code class="code" id="z8rh5ku_811">fakeAsync</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_761"><li class="list__item" id="z8rh5ku_812"><p id="z8rh5ku_813"><span class="control" id="z8rh5ku_814">R&eacute;ponse type :</span> La fonction <code class="code" id="z8rh5ku_815">tick(milliseconds)</code> sert &agrave; simuler l'&eacute;coulement du temps &agrave; l'int&eacute;rieur d'une zone <code class="code" id="z8rh5ku_816">fakeAsync</code>. Elle fait avancer l'horloge virtuelle, ce qui d&eacute;clenche l'ex&eacute;cution des t&acirc;ches asynchrones en attente ( comme les <code class="code" id="z8rh5ku_817">setTimeout</code> ou les <code class="code" id="z8rh5ku_818">Promise</code>).</p></li></ul><ol class="list _decimal" id="z8rh5ku_762" type="1" start="5"><li class="list__item" id="z8rh5ku_819"><p id="z8rh5ku_820"><span class="control" id="z8rh5ku_821">Comment v&eacute;rifier qu'un espion a &eacute;t&eacute; appel&eacute; une fois avec un argument ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_763"><li class="list__item" id="z8rh5ku_822"><p id="z8rh5ku_824"><span class="control" id="z8rh5ku_825">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_826">expect(mySpy).toHaveBeenCalledTimes(1); expect(mySpy).toHaveBeenCalledWith('hello');</code></p></li><li class="list__item" id="z8rh5ku_823"><p id="z8rh5ku_827"><span class="control" id="z8rh5ku_828">Explication :</span> C'est la combinaison des deux &quot;matchers&quot; Jasmine les plus courants pour ce cas d'usage : <code class="code" id="z8rh5ku_829">toHaveBeenCalledTimes</code> pour v&eacute;rifier le nombre d'appels, et <code class="code" id="z8rh5ku_830">toHaveBeenCalledWith</code> pour v&eacute;rifier les arguments du ( dernier) appel.</p></li></ul></section></section><section class="chapter"><h2 id="module-6-cosyst-me-avanc" data-toc="module-6-cosyst-me-avanc">Module 6 : &Eacute;cosyst&egrave;me Avanc&eacute;</h2><section class="chapter"><h3 id="partie-a-design-system-composants-dynamiques" data-toc="partie-a-design-system-composants-dynamiques">Partie A : Design System &amp; Composants Dynamiques</h3><ol class="list _decimal" id="z8rh5ku_834" type="1"><li class="list__item" id="z8rh5ku_844"><p id="z8rh5ku_845"><span class="control" id="z8rh5ku_846">Avantage de <code class="code" id="z8rh5ku_847">ng add @angular/material</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_835"><li class="list__item" id="z8rh5ku_848"><p id="z8rh5ku_850"><span class="control" id="z8rh5ku_851">R&eacute;ponse : B.</span> La commande configure automatiquement le th&egrave;me, la typographie et les animations.</p></li><li class="list__item" id="z8rh5ku_849"><p id="z8rh5ku_852"><span class="control" id="z8rh5ku_853">Explication :</span> <code class="code" id="z8rh5ku_854">ng add</code> utilise les &quot;schematics&quot; d'Angular Material pour non seulement installer les d&eacute;pendances, mais aussi pour int&eacute;grer la biblioth&egrave;que proprement dans le projet (configuration, styles, etc.), ce qui fait gagner beaucoup de temps.</p></li></ul><ol class="list _decimal" id="z8rh5ku_836" type="1" start="2"><li class="list__item" id="z8rh5ku_855"><p id="z8rh5ku_856"><span class="control" id="z8rh5ku_857">Concept de &quot;projection de contenu&quot; :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_837"><li class="list__item" id="z8rh5ku_858"><p id="z8rh5ku_859"><span class="control" id="z8rh5ku_860">R&eacute;ponse type :</span> C'est un m&eacute;canisme qui permet &agrave; un composant parent de passer du contenu HTML directement &agrave; l' int&eacute;rieur du template d'un composant enfant. La balise <code class="code" id="z8rh5ku_861">&lt;ng-content&gt;</code> dans le composant enfant agit comme un &quot; placeholder&quot; ou un &quot;slot&quot; o&ugrave; ce contenu sera ins&eacute;r&eacute;.</p></li></ul><ol class="list _decimal" id="z8rh5ku_838" type="1" start="3"><li class="list__item" id="z8rh5ku_862"><p id="z8rh5ku_863"><span class="control" id="z8rh5ku_864">Sc&eacute;nario pour les composants dynamiques :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_839"><li class="list__item" id="z8rh5ku_865"><p id="z8rh5ku_867"><span class="control" id="z8rh5ku_868">R&eacute;ponse : C.</span> Pour construire un tableau de bord o&ugrave; l'utilisateur peut choisir les &quot;widgets&quot; &agrave; afficher &agrave; partir d'une liste.</p></li><li class="list__item" id="z8rh5ku_866"><p id="z8rh5ku_869"><span class="control" id="z8rh5ku_870">Explication :</span> C'est le cas d'usage parfait, car le type et le nombre de composants &agrave; afficher ne sont pas connus au moment du d&eacute;veloppement, mais sont d&eacute;termin&eacute;s &agrave; l'ex&eacute;cution en fonction des actions de l'utilisateur ou d'une configuration.</p></li></ul><ol class="list _decimal" id="z8rh5ku_840" type="1" start="4"><li class="list__item" id="z8rh5ku_871"><p id="z8rh5ku_872"><span class="control" id="z8rh5ku_873">Comment d&eacute;finir plusieurs &quot;slots&quot; de projection ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_841"><li class="list__item" id="z8rh5ku_874"><p id="z8rh5ku_875"><span class="control" id="z8rh5ku_876">R&eacute;ponse type :</span> En utilisant l'attribut <code class="code" id="z8rh5ku_877">select</code> sur les balises <code class="code" id="z8rh5ku_878">&lt;ng-content&gt;</code>. Chaque <code class="code" id="z8rh5ku_879">ng-content</code> peut avoir un s&eacute;lecteur CSS (<code class="code" id="z8rh5ku_880">select=&quot;[mon-attribut]&quot;</code> ou <code class="code" id="z8rh5ku_881">select=&quot;.ma-classe&quot;</code>) pour cibler sp&eacute;cifiquement quel contenu du parent doit &ecirc;tre projet&eacute; dans quel slot.</p></li></ul><ol class="list _decimal" id="z8rh5ku_842" type="1" start="5"><li class="list__item" id="z8rh5ku_882"><p id="z8rh5ku_883"><span class="control" id="z8rh5ku_884">Classe fondamentale pour cr&eacute;er des composants dynamiques :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_843"><li class="list__item" id="z8rh5ku_885"><p id="z8rh5ku_887"><span class="control" id="z8rh5ku_888">R&eacute;ponse : D.</span> <code class="code" id="z8rh5ku_889">ViewContainerRef</code>.</p></li><li class="list__item" id="z8rh5ku_886"><p id="z8rh5ku_890"><span class="control" id="z8rh5ku_891">Explication :</span> <code class="code" id="z8rh5ku_892">ViewContainerRef</code> est l'API moderne et principale pour cr&eacute;er et attacher programmatiquement des composants &agrave; un point d'ancrage sp&eacute;cifique dans le DOM.</p></li></ul></section><section class="chapter"><h3 id="partie-b-temps-r-el-avec-websockets" data-toc="partie-b-temps-r-el-avec-websockets">Partie B : Temps R&eacute;el avec WebSockets</h3><ol class="list _decimal" id="z8rh5ku_893" type="1"><li class="list__item" id="z8rh5ku_903"><p id="z8rh5ku_904"><span class="control" id="z8rh5ku_905">Diff&eacute;rence fondamentale entre HTTP et WebSocket :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_894"><li class="list__item" id="z8rh5ku_906"><p id="z8rh5ku_908"><span class="control" id="z8rh5ku_909">R&eacute;ponse : C.</span> HTTP est un protocole bas&eacute; sur une connexion qui se ferme apr&egrave;s chaque r&eacute;ponse, tandis que WebSocket maintient une connexion persistante.</p></li><li class="list__item" id="z8rh5ku_907"><p id="z8rh5ku_910"><span class="control" id="z8rh5ku_911">Explication :</span> C'est la diff&eacute;rence essentielle. La connexion persistante et bidirectionnelle de WebSocket est ce qui lui permet de faire de la communication temps r&eacute;el (push) que HTTP ne peut pas faire nativement.</p></li></ul><ol class="list _decimal" id="z8rh5ku_895" type="1" start="2"><li class="list__item" id="z8rh5ku_912"><p id="z8rh5ku_913"><span class="control" id="z8rh5ku_914">Correspondance entre <code class="code" id="z8rh5ku_915">onmessage</code> et l' <code class="code" id="z8rh5ku_916">Observer</code> RxJS :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_896"><li class="list__item" id="z8rh5ku_917"><p id="z8rh5ku_919"><span class="control" id="z8rh5ku_920">R&eacute;ponse :</span> <code class="code" id="z8rh5ku_921">next</code>.</p></li><li class="list__item" id="z8rh5ku_918"><p id="z8rh5ku_922"><span class="control" id="z8rh5ku_923">Explication :</span> <code class="code" id="z8rh5ku_924">onmessage</code> est l'&eacute;v&eacute;nement qui se d&eacute;clenche quand une nouvelle donn&eacute;e arrive du serveur. Dans notre wrapper, on capture cette donn&eacute;e et on la pousse dans le flux de l'observable via <code class="code" id="z8rh5ku_925">observer.next(data)</code>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_897" type="1" start="3"><li class="list__item" id="z8rh5ku_926"><p id="z8rh5ku_927"><span class="control" id="z8rh5ku_928">Pourquoi retourner <code class="code" id="z8rh5ku_929">socket.close()</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_898"><li class="list__item" id="z8rh5ku_930"><p id="z8rh5ku_931"><span class="control" id="z8rh5ku_932">R&eacute;ponse type :</span> C'est la fonction de &quot;teardown&quot; (nettoyage) de l'observable. Elle est ex&eacute;cut&eacute;e automatiquement lorsque le dernier abonn&eacute; se d&eacute;sabonne. Retourner une fonction qui ferme la connexion garantit que lorsque le composant est d&eacute;truit, la connexion WebSocket est proprement ferm&eacute;e, &eacute;vitant ainsi les fuites de ressources c&ocirc;t&eacute; client et serveur.</p></li></ul><ol class="list _decimal" id="z8rh5ku_899" type="1" start="4"><li class="list__item" id="z8rh5ku_933"><p id="z8rh5ku_934"><span class="control" id="z8rh5ku_935">Que faire avec un objet JS avant de l'envoyer via WebSocket ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_900"><li class="list__item" id="z8rh5ku_936"><p id="z8rh5ku_938"><span class="control" id="z8rh5ku_939">R&eacute;ponse : C.</span> Utiliser <code class="code" id="z8rh5ku_940">JSON.stringify()</code> pour le convertir en cha&icirc;ne de caract&egrave;res.</p></li><li class="list__item" id="z8rh5ku_937"><p id="z8rh5ku_941"><span class="control" id="z8rh5ku_942">Explication :</span> Le protocole WebSocket transporte des donn&eacute;es sous forme de &quot;frames&quot; qui contiennent g&eacute;n&eacute;ralement du texte ou des donn&eacute;es binaires. La convention la plus r&eacute;pandue pour envoyer des objets structur&eacute;s est de les s&eacute;rialiser en une cha&icirc;ne JSON.</p></li></ul><ol class="list _decimal" id="z8rh5ku_901" type="1" start="5"><li class="list__item" id="z8rh5ku_943"><p id="z8rh5ku_944"><span class="control" id="z8rh5ku_945">Vrai ou Faux : Une fois la connexion &eacute;tablie, seul le serveur peut initier l'envoi d'un message.</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_902"><li class="list__item" id="z8rh5ku_946"><p id="z8rh5ku_948"><span class="control" id="z8rh5ku_949">R&eacute;ponse :</span> Faux.</p></li><li class="list__item" id="z8rh5ku_947"><p id="z8rh5ku_950"><span class="control" id="z8rh5ku_951">Explication :</span> WebSocket est un protocole <span class="control" id="z8rh5ku_952">bidirectionnel</span>. Une fois la connexion &eacute;tablie, le client et le serveur peuvent tous deux envoyer des messages &agrave; tout moment, de mani&egrave;re ind&eacute;pendante.</p></li></ul></section><section class="chapter"><h3 id="partie-c-build-d-ploiement-et-pwa" data-toc="partie-c-build-d-ploiement-et-pwa">Partie C : Build, D&eacute;ploiement et PWA</h3><ol class="list _decimal" id="z8rh5ku_953" type="1"><li class="list__item" id="z8rh5ku_964"><p id="z8rh5ku_965"><span class="control" id="z8rh5ku_966">Ce qui N'EST PAS une optimisation de <code class="code" id="z8rh5ku_967">ng build</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_954"><li class="list__item" id="z8rh5ku_968"><p id="z8rh5ku_970"><span class="control" id="z8rh5ku_971">R&eacute;ponse : C.</span> Ajout de commentaires d&eacute;taill&eacute;s dans le code.</p></li><li class="list__item" id="z8rh5ku_969"><p id="z8rh5ku_972"><span class="control" id="z8rh5ku_973">Explication :</span> C'est le contraire. La minification, une des optimisations cl&eacute;s, supprime tous les commentaires pour r&eacute;duire la taille des fichiers.</p></li></ul><ol class="list _decimal" id="z8rh5ku_955" type="1" start="2"><li class="list__item" id="z8rh5ku_974"><p id="z8rh5ku_975"><span class="control" id="z8rh5ku_976">Le &quot;probl&egrave;me du rafra&icirc;chissement F5&quot; et sa solution :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_956"><li class="list__item" id="z8rh5ku_977"><p id="z8rh5ku_978"><span class="control" id="z8rh5ku_979">R&eacute;ponse type :</span> Le probl&egrave;me survient quand on rafra&icirc;chit une page sur une route profonde (ex: <code class="code" id="z8rh5ku_980">/users/1</code>). Le navigateur envoie une requ&ecirc;te pour cette URL au serveur, qui ne la conna&icirc;t pas et retourne une erreur 404. La solution est la r&eacute;&eacute;criture d'URL c&ocirc;t&eacute; serveur : il faut configurer le serveur pour que toute requ&ecirc;te qui ne correspond pas &agrave; un fichier existant soit redirig&eacute;e vers <code class="code" id="z8rh5ku_981">index.html</code>, permettant &agrave; l'application Angular de se charger et de g&eacute;rer le routage.</p></li></ul><ol class="list _decimal" id="z8rh5ku_957" type="1" start="3"><li class="list__item" id="z8rh5ku_982"><p id="z8rh5ku_983"><span class="control" id="z8rh5ku_984">R&ocirc;le du <code class="code" id="z8rh5ku_985">manifest.webmanifest</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_958"><li class="list__item" id="z8rh5ku_986"><p id="z8rh5ku_987"><span class="control" id="z8rh5ku_988">R&eacute;ponse type :</span> C'est la &quot;carte d'identit&eacute;&quot; de l'application web. Ce fichier JSON fournit au navigateur des m&eacute;tadonn&eacute;es comme le nom de l'application, ses ic&ocirc;nes, ses couleurs de th&egrave;me, et son comportement d'affichage (<code class="code" id="z8rh5ku_989">standalone</code>), ce qui permet au navigateur de proposer &agrave; l'utilisateur d'installer l'application sur son appareil.</p></li></ul><ol class="list _decimal" id="z8rh5ku_959" type="1" start="4"><li class="list__item" id="z8rh5ku_990"><p id="z8rh5ku_991"><span class="control" id="z8rh5ku_992">Composant PWA responsable du cache hors-ligne :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_960"><li class="list__item" id="z8rh5ku_993"><p id="z8rh5ku_995"><span class="control" id="z8rh5ku_996">R&eacute;ponse : B.</span> Le Service Worker.</p></li><li class="list__item" id="z8rh5ku_994"><p id="z8rh5ku_997"><span class="control" id="z8rh5ku_998">Explication :</span> Le Service Worker agit comme un proxy r&eacute;seau. Il peut intercepter les requ&ecirc;tes, et s'il est configur&eacute; pour le faire, il peut servir des r&eacute;ponses directement depuis le cache, permettant &agrave; l'application de fonctionner m&ecirc;me sans connexion internet.</p></li></ul><ol class="list _decimal" id="z8rh5ku_961" type="1" start="5"><li class="list__item" id="z8rh5ku_999"><p id="z8rh5ku_1000"><span class="control" id="z8rh5ku_1001">Commande CLI pour transformer une app en PWA :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_962"><li class="list__item" id="z8rh5ku_1002"><p id="z8rh5ku_1003"><span class="control" id="z8rh5ku_1004">R&eacute;ponse :</span> <code class="code" id="z8rh5ku_1005">ng add @angular/pwa</code>.</p></li></ul></section></section><section class="chapter"><h2 id="module-7-i18n-et-a11y" data-toc="module-7-i18n-et-a11y">Module 7 : i18n et a11y</h2><section class="chapter"><h3 id="l-essentiel-i18n" data-toc="l-essentiel-i18n">L'essentiel (i18n)</h3><ol class="list _decimal" id="z8rh5ku_1008" type="1"><li class="list__item" id="z8rh5ku_1018"><p id="z8rh5ku_1019"><span class="control" id="z8rh5ku_1020">Commande pour extraire les textes :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1009"><li class="list__item" id="z8rh5ku_1021"><p id="z8rh5ku_1022"><span class="control" id="z8rh5ku_1023">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_1024">ng extract-i18n</code>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1010" type="1" start="2"><li class="list__item" id="z8rh5ku_1025"><p id="z8rh5ku_1026"><span class="control" id="z8rh5ku_1027">Avantage d'un ID personnalis&eacute; <code class="code" id="z8rh5ku_1028">@@id</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1011"><li class="list__item" id="z8rh5ku_1029"><p id="z8rh5ku_1030"><span class="control" id="z8rh5ku_1031">R&eacute;ponse type :</span> Il fournit un identifiant stable et unique pour une unit&eacute; de traduction. Si le texte source en fran&ccedil;ais change l&eacute;g&egrave;rement (une correction de typo par exemple), Angular g&eacute;n&eacute;rerait un nouvel ID par d&eacute;faut, et la traduction existante serait perdue. Avec un <code class="code" id="z8rh5ku_1032">@@id</code> personnalis&eacute;, le lien est pr&eacute;serv&eacute;, ce qui rend la maintenance des traductions beaucoup plus robuste.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1012" type="1" start="3"><li class="list__item" id="z8rh5ku_1033"><p id="z8rh5ku_1034"><span class="control" id="z8rh5ku_1035">Fichier de configuration pour l'i18n :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1013"><li class="list__item" id="z8rh5ku_1036"><p id="z8rh5ku_1038"><span class="control" id="z8rh5ku_1039">R&eacute;ponse :</span> <code class="code" id="z8rh5ku_1040">angular.json</code>.</p></li><li class="list__item" id="z8rh5ku_1037"><p id="z8rh5ku_1041"><span class="control" id="z8rh5ku_1042">Explication :</span> C'est dans ce fichier, sous la cl&eacute; <code class="code" id="z8rh5ku_1043">projects.mon-app.i18n</code>, qu'on d&eacute;finit la langue source et les locales cibles avec les chemins vers leurs fichiers de traduction.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1014" type="1" start="4"><li class="list__item" id="z8rh5ku_1044"><p id="z8rh5ku_1045"><span class="control" id="z8rh5ku_1046">Vrai ou Faux : <code class="code" id="z8rh5ku_1047">@angular/localize</code> permet de changer de langue dynamiquement.</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1015"><li class="list__item" id="z8rh5ku_1048"><p id="z8rh5ku_1050"><span class="control" id="z8rh5ku_1051">R&eacute;ponse :</span> Faux.</p></li><li class="list__item" id="z8rh5ku_1049"><p id="z8rh5ku_1052"><span class="control" id="z8rh5ku_1053">Explication :</span> L'approche d'i18n par d&eacute;faut d'Angular est une approche au moment du build. Elle g&eacute;n&egrave;re une application distincte et optimis&eacute;e pour chaque langue. Pour changer de langue, l'utilisateur doit &ecirc;tre redirig&eacute; vers l'application correspondant &agrave; l'autre langue (ex: de <code class="code" id="z8rh5ku_1054">/fr/home</code> &agrave; <code class="code" id="z8rh5ku_1055">/en/home</code>). Il ne peut pas changer la langue &quot;&agrave; la vol&eacute;e&quot; au sein de la m&ecirc;me session d'application.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1016" type="1" start="5"><li class="list__item" id="z8rh5ku_1056"><p id="z8rh5ku_1057"><span class="control" id="z8rh5ku_1058">Format de fichier par d&eacute;faut pour les traductions :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1017"><li class="list__item" id="z8rh5ku_1059"><p id="z8rh5ku_1060"><span class="control" id="z8rh5ku_1061">R&eacute;ponse : C.</span> XLIFF (<code class="code" id="z8rh5ku_1062">.xlf</code>).</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin-a11y" data-toc="pour-aller-plus-loin-a11y">Pour aller plus loin (a11y)</h3><ol class="list _decimal" id="z8rh5ku_1063" type="1"><li class="list__item" id="z8rh5ku_1074"><p id="z8rh5ku_1075"><span class="control" id="z8rh5ku_1076">Pourquoi <code class="code" id="z8rh5ku_1077">&lt;button&gt;</code> est pr&eacute;f&eacute;rable &agrave; <code class="code" id="z8rh5ku_1078">&lt;div (click)&gt;</code>?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1064"><li class="list__item" id="z8rh5ku_1079"><p id="z8rh5ku_1081"><span class="control" id="z8rh5ku_1082">R&eacute;ponse : C.</span> <code class="code" id="z8rh5ku_1083">&lt;button&gt;</code> est nativement focusable, utilisable au clavier, et a une s&eacute;mantique correcte pour les technologies d'assistance.</p></li><li class="list__item" id="z8rh5ku_1080"><p id="z8rh5ku_1084"><span class="control" id="z8rh5ku_1085">Explication :</span> Utiliser un &eacute;l&eacute;ment HTML s&eacute;mantique natif vous donne gratuitement un tas de fonctionnalit&eacute;s d'accessibilit&eacute; qu'il faudrait sinon recr&eacute;er manuellement et de mani&egrave;re imparfaite.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1065" type="1" start="2"><li class="list__item" id="z8rh5ku_1086"><p id="z8rh5ku_1087"><span class="control" id="z8rh5ku_1088">R&ocirc;le de l'attribut ARIA <code class="code" id="z8rh5ku_1089">role</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1066"><li class="list__item" id="z8rh5ku_1090"><p id="z8rh5ku_1091"><span class="control" id="z8rh5ku_1092">R&eacute;ponse type :</span> L'attribut <code class="code" id="z8rh5ku_1093">role</code> permet de surcharger la s&eacute;mantique native d'un &eacute;l&eacute;ment ou de donner une s&eacute;mantique &agrave; un &eacute;l&eacute;ment qui n'en a pas (comme une <code class="code" id="z8rh5ku_1094">div</code>). Il informe les technologies d'assistance sur le &quot;m&eacute;tier&quot; ou le &quot;type&quot; d'un widget (ex: <code class="code" id="z8rh5ku_1095">role=&quot;tab&quot;</code>, <code class="code" id="z8rh5ku_1096">role=&quot;switch&quot;</code>, <code class="code" id="z8rh5ku_1097">role=&quot;alert&quot;</code>).</p></li></ul><ol class="list _decimal" id="z8rh5ku_1067" type="1" start="3"><li class="list__item" id="z8rh5ku_1098"><p id="z8rh5ku_1099"><span class="control" id="z8rh5ku_1100">Comment &eacute;tiqueter un bouton avec une ic&ocirc;ne seulement ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1068"><li class="list__item" id="z8rh5ku_1101"><p id="z8rh5ku_1103"><span class="control" id="z8rh5ku_1104">R&eacute;ponse : B.</span> <code class="code" id="z8rh5ku_1105">aria-label=&quot;Rechercher&quot;</code>.</p></li><li class="list__item" id="z8rh5ku_1102"><p id="z8rh5ku_1106"><span class="control" id="z8rh5ku_1107">Explication :</span> <code class="code" id="z8rh5ku_1108">aria-label</code> fournit une &eacute;tiquette textuelle accessible qui est lue par les lecteurs d'&eacute;cran, m&ecirc;me s'il n'y a pas de texte visible dans le DOM.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1069" type="1" start="4"><li class="list__item" id="z8rh5ku_1109"><p id="z8rh5ku_1110"><span class="control" id="z8rh5ku_1111">Ratio de contraste minimum recommand&eacute; :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1070"><li class="list__item" id="z8rh5ku_1112"><p id="z8rh5ku_1113"><span class="control" id="z8rh5ku_1114">R&eacute;ponse :</span> 4.5:1.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1071" type="1" start="5"><li class="list__item" id="z8rh5ku_1115"><p id="z8rh5ku_1116"><span class="control" id="z8rh5ku_1117">Outil d'audit d'accessibilit&eacute; int&eacute;gr&eacute; aux navigateurs Chromium :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1072"><li class="list__item" id="z8rh5ku_1118"><p id="z8rh5ku_1119"><span class="control" id="z8rh5ku_1120">R&eacute;ponse :</span> Lighthouse.</p></li></ul></section></section><section class="chapter"><h2 id="module-8-tests-e2e-et-maintenance" data-toc="module-8-tests-e2e-et-maintenance">Module 8 : Tests E2E et Maintenance</h2><section class="chapter"><h3 id="l-essentiel_1" data-toc="l-essentiel_1">L'essentiel</h3><ol class="list _decimal" id="z8rh5ku_1123" type="1"><li class="list__item" id="z8rh5ku_1133"><p id="z8rh5ku_1134"><span class="control" id="z8rh5ku_1135">Diff&eacute;rence entre test unitaire et test E2E :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1124"><li class="list__item" id="z8rh5ku_1136"><p id="z8rh5ku_1138"><span class="control" id="z8rh5ku_1139">R&eacute;ponse : B.</span> Les tests unitaires v&eacute;rifient des pi&egrave;ces de code isol&eacute;es, les tests E2E v&eacute;rifient un parcours utilisateur complet dans un navigateur.</p></li><li class="list__item" id="z8rh5ku_1137"><p id="z8rh5ku_1140"><span class="control" id="z8rh5ku_1141">Explication :</span> C'est la diff&eacute;rence d'&eacute;chelle. Un test unitaire teste la &quot;brique&quot;, un test E2E teste la &quot;maison&quot; une fois assembl&eacute;e.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1125" type="1" start="2"><li class="list__item" id="z8rh5ku_1142"><p id="z8rh5ku_1143"><span class="control" id="z8rh5ku_1144">Pourquoi Cypress est-il plus rapide/fiable que Protractor ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1126"><li class="list__item" id="z8rh5ku_1145"><p id="z8rh5ku_1146"><span class="control" id="z8rh5ku_1147">R&eacute;ponse type :</span> Cypress s'ex&eacute;cute directement dans le m&ecirc;me thread que l'application, ce qui lui donne un acc&egrave;s direct au DOM, au r&eacute;seau et &agrave; l'application elle-m&ecirc;me. Cela &eacute;limine la couche de communication externe et les d&eacute;lais inh&eacute;rents &agrave; l'architecture de Selenium/WebDriver, rendant les tests moins sujets aux erreurs de synchronisation (&quot; flakiness&quot;) et plus rapides.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1127" type="1" start="3"><li class="list__item" id="z8rh5ku_1148"><p id="z8rh5ku_1149"><span class="control" id="z8rh5ku_1150">Meilleure pratique pour s&eacute;lectionner des &eacute;l&eacute;ments dans Cypress :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1128"><li class="list__item" id="z8rh5ku_1151"><p id="z8rh5ku_1153"><span class="control" id="z8rh5ku_1154">R&eacute;ponse : C.</span> Utiliser un attribut HTML d&eacute;di&eacute; aux tests, comme <code class="code" id="z8rh5ku_1155">data-cy</code>.</p></li><li class="list__item" id="z8rh5ku_1152"><p id="z8rh5ku_1156"><span class="control" id="z8rh5ku_1157">Explication :</span> Cela d&eacute;couple les tests de l'impl&eacute;mentation (classes CSS) et du contenu (texte), les rendant beaucoup plus robustes face aux changements de l'UI.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1129" type="1" start="4"><li class="list__item" id="z8rh5ku_1158"><p id="z8rh5ku_1159"><span class="control" id="z8rh5ku_1160">Commande Cypress pour taper du texte :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1130"><li class="list__item" id="z8rh5ku_1161"><p id="z8rh5ku_1162"><span class="control" id="z8rh5ku_1163">R&eacute;ponse : D.</span> <code class="code" id="z8rh5ku_1164">.type()</code>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1131" type="1" start="5"><li class="list__item" id="z8rh5ku_1165"><p id="z8rh5ku_1166"><span class="control" id="z8rh5ku_1167">Derni&egrave;re &eacute;tape de la recette de base d'un test Cypress :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1132"><li class="list__item" id="z8rh5ku_1168"><p id="z8rh5ku_1170"><span class="control" id="z8rh5ku_1171">R&eacute;ponse :</span> V&eacute;rifier (<code class="code" id="z8rh5ku_1172">.should()</code>).</p></li><li class="list__item" id="z8rh5ku_1169"><p id="z8rh5ku_1173"><span class="control" id="z8rh5ku_1174">Explication :</span> La recette est Visiter (<code class="code" id="z8rh5ku_1175">visit</code>), Trouver (<code class="code" id="z8rh5ku_1176">get</code>), Agir (<code class="code" id="z8rh5ku_1177">click</code>, <code class="code" id="z8rh5ku_1178">type</code>...), et enfin V&eacute;rifier (<code class="code" id="z8rh5ku_1179">should</code>) que l'action a eu l'effet escompt&eacute;.</p></li></ul></section><section class="chapter"><h3 id="pour-aller-plus-loin_6" data-toc="pour-aller-plus-loin_6">Pour aller plus loin</h3><ol class="list _decimal" id="z8rh5ku_1180" type="1"><li class="list__item" id="z8rh5ku_1191"><p id="z8rh5ku_1192"><span class="control" id="z8rh5ku_1193">Avantage principal de <code class="code" id="z8rh5ku_1194">cy.intercept()</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1181"><li class="list__item" id="z8rh5ku_1195"><p id="z8rh5ku_1197"><span class="control" id="z8rh5ku_1198">R&eacute;ponse : B.</span> Cela rend les tests plus rapides et plus fiables en les d&eacute;couplant du backend.</p></li><li class="list__item" id="z8rh5ku_1196"><p id="z8rh5ku_1199"><span class="control" id="z8rh5ku_1200">Explication :</span> En mockant les r&eacute;ponses de l'API, les tests ne d&eacute;pendent plus de la disponibilit&eacute; ou de la vitesse du serveur de test. Ils peuvent s'ex&eacute;cuter rapidement et de mani&egrave;re d&eacute;terministe, en testant des sc&eacute;narios de succ&egrave;s comme d'&eacute;chec de mani&egrave;re contr&ocirc;l&eacute;e.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1182" type="1" start="2"><li class="list__item" id="z8rh5ku_1201"><p id="z8rh5ku_1202"><span class="control" id="z8rh5ku_1203">Qu'est-ce qu'un &quot;schematic de migration&quot; ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1183"><li class="list__item" id="z8rh5ku_1204"><p id="z8rh5ku_1205"><span class="control" id="z8rh5ku_1206">R&eacute;ponse type :</span> C'est un script, fourni par une biblioth&egrave;que (comme <code class="code" id="z8rh5ku_1207">@angular/core</code>), qui est ex&eacute;cut&eacute; par la commande <code class="code" id="z8rh5ku_1208">ng update</code>. Son r&ocirc;le est de modifier automatiquement le code source de l'utilisateur pour l'adapter aux changements d'API (breaking changes) d'une nouvelle version, ce qui automatise une grande partie du processus de mise &agrave; jour.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1184" type="1" start="3"><li class="list__item" id="z8rh5ku_1209"><p id="z8rh5ku_1210"><span class="control" id="z8rh5ku_1211">Meilleur outil pour planifier une mise &agrave; jour d'Angular v15 &agrave; v17 :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1185"><li class="list__item" id="z8rh5ku_1212"><p id="z8rh5ku_1213"><span class="control" id="z8rh5ku_1214">R&eacute;ponse :</span> Le site web officiel <span class="control" id="z8rh5ku_1215"><a href="https://update.angular.io/" id="z8rh5ku_1216" data-external="true" rel="noopener noreferrer" target="_blank">update.angular.io</a></span>.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1186" type="1" start="4"><li class="list__item" id="z8rh5ku_1217"><p id="z8rh5ku_1218"><span class="control" id="z8rh5ku_1219">Vrai ou Faux : <code class="code" id="z8rh5ku_1220">ng update</code> ne modifie jamais votre code source.</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1187"><li class="list__item" id="z8rh5ku_1221"><p id="z8rh5ku_1223"><span class="control" id="z8rh5ku_1224">R&eacute;ponse :</span> Faux.</p></li><li class="list__item" id="z8rh5ku_1222"><p id="z8rh5ku_1225"><span class="control" id="z8rh5ku_1226">Explication :</span> C'est justement la grande force de <code class="code" id="z8rh5ku_1227">ng update</code>! Gr&acirc;ce aux schematics de migration, il peut et va souvent modifier votre code pour vous faire gagner du temps lors des mises &agrave; jour.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1188" type="1" start="5"><li class="list__item" id="z8rh5ku_1228"><p id="z8rh5ku_1229"><span class="control" id="z8rh5ku_1230">Raison la plus critique de maintenir &agrave; jour ses d&eacute;pendances :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1189"><li class="list__item" id="z8rh5ku_1231"><p id="z8rh5ku_1232"><span class="control" id="z8rh5ku_1233">R&eacute;ponse type :</span> Bien que la performance et les nouvelles fonctionnalit&eacute;s soient importantes, la raison la plus critique est la <span class="control" id="z8rh5ku_1234">s&eacute;curit&eacute;</span>. Les mises &agrave; jour corrigent des failles de s&eacute;curit&eacute; qui sont d&eacute;couvertes. Ne pas mettre &agrave; jour expose votre application et vos utilisateurs &agrave; des risques connus.</p></li></ul></section></section><section class="chapter"><h2 id="module-9-conclusion" data-toc="module-9-conclusion">Module 9 : Conclusion</h2><ol class="list _decimal" id="z8rh5ku_1235" type="1"><li class="list__item" id="z8rh5ku_1245"><p id="z8rh5ku_1246"><span class="control" id="z8rh5ku_1247">Quand NgRx est-il particuli&egrave;rement justifi&eacute; ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1236"><li class="list__item" id="z8rh5ku_1248"><p id="z8rh5ku_1250"><span class="control" id="z8rh5ku_1251">R&eacute;ponse : B.</span> Quand plusieurs composants non li&eacute;s doivent partager et modifier un &eacute;tat complexe, et que la tra&ccedil;abilit&eacute; des changements est importante.</p></li><li class="list__item" id="z8rh5ku_1249"><p id="z8rh5ku_1252"><span class="control" id="z8rh5ku_1253">Explication :</span> NgRx brille lorsque la complexit&eacute; de l'&eacute;tat et le nombre d'acteurs interagissant avec cet &eacute;tat deviennent &eacute;lev&eacute;s. Sa structure stricte et ses outils de d&eacute;bogage apportent une pr&eacute;visibilit&eacute; et une maintenabilit&eacute; qu'un simple service a du mal &agrave; offrir &agrave; grande &eacute;chelle.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1237" type="1" start="2"><li class="list__item" id="z8rh5ku_1254"><p id="z8rh5ku_1255"><span class="control" id="z8rh5ku_1256">Objectif principal de la strat&eacute;gie <code class="code" id="z8rh5ku_1257">OnPush</code>:</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1238"><li class="list__item" id="z8rh5ku_1258"><p id="z8rh5ku_1260"><span class="control" id="z8rh5ku_1261">R&eacute;ponse : C.</span> R&eacute;duire le nombre de v&eacute;rifications effectu&eacute;es par Angular, am&eacute;liorant ainsi les performances.</p></li><li class="list__item" id="z8rh5ku_1259"><p id="z8rh5ku_1262"><span class="control" id="z8rh5ku_1263">Explication :</span> <code class="code" id="z8rh5ku_1264">OnPush</code> est une pure strat&eacute;gie d'optimisation des performances de rendu.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1239" type="1" start="3"><li class="list__item" id="z8rh5ku_1265"><p id="z8rh5ku_1266"><span class="control" id="z8rh5ku_1267">But d'un test End-to-End :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1240"><li class="list__item" id="z8rh5ku_1268"><p id="z8rh5ku_1270"><span class="control" id="z8rh5ku_1271">R&eacute;ponse : C.</span> Valider qu'un parcours utilisateur complet fonctionne comme pr&eacute;vu dans un vrai navigateur.</p></li><li class="list__item" id="z8rh5ku_1269"><p id="z8rh5ku_1272"><span class="control" id="z8rh5ku_1273">Explication :</span> Il teste l'int&eacute;gration de toutes les parties de l'application du point de vue de l'utilisateur.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1241" type="1" start="4"><li class="list__item" id="z8rh5ku_1274"><p id="z8rh5ku_1275"><span class="control" id="z8rh5ku_1276">Probl&egrave;me majeur r&eacute;solu par le SSR :</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1242"><li class="list__item" id="z8rh5ku_1277"><p id="z8rh5ku_1279"><span class="control" id="z8rh5ku_1280">R&eacute;ponse : C.</span> Le mauvais r&eacute;f&eacute;rencement (SEO) et la lenteur du premier affichage des Single Page Applications.</p></li><li class="list__item" id="z8rh5ku_1278"><p id="z8rh5ku_1281"><span class="control" id="z8rh5ku_1282">Explication :</span> En servant une page HTML d&eacute;j&agrave; rendue, le SSR permet aux robots des moteurs de recherche d'indexer le contenu et aux utilisateurs de voir quelque chose quasi-instantan&eacute;ment.</p></li></ul><ol class="list _decimal" id="z8rh5ku_1243" type="1" start="5"><li class="list__item" id="z8rh5ku_1283"><p id="z8rh5ku_1284"><span class="control" id="z8rh5ku_1285">Quelle notion a le plus chang&eacute; votre mani&egrave;re de penser ?</span></p></li></ol><ul class="list _bullet" id="z8rh5ku_1244"><li class="list__item" id="z8rh5ku_1286"><p id="z8rh5ku_1287"><span class="control" id="z8rh5ku_1289">R&eacute;ponse :</span> Cette question est personnelle et ouverte. Une bonne r&eacute;ponse pourrait mentionner :</p><ul class="list _bullet" id="z8rh5ku_1288"><li class="list__item" id="z8rh5ku_1290"><p id="z8rh5ku_1294"><span class="control" id="z8rh5ku_1295">RxJS et la pens&eacute;e r&eacute;active</span>, car cela change la mani&egrave;re de g&eacute;rer l'asynchronisme.</p></li><li class="list__item" id="z8rh5ku_1291"><p id="z8rh5ku_1296"><span class="control" id="z8rh5ku_1297">La gestion d'&eacute;tat centralis&eacute;e</span>, car cela r&eacute;sout le probl&egrave;me du &quot;prop drilling&quot; et de la communication entre composants.</p></li><li class="list__item" id="z8rh5ku_1292"><p id="z8rh5ku_1298"><span class="control" id="z8rh5ku_1299">Le patron Container/Presentational</span>, car il impose une structure claire et favorise la r&eacute;utilisabilit&eacute;.</p></li><li class="list__item" id="z8rh5ku_1293"><p id="z8rh5ku_1300"><span class="control" id="z8rh5ku_1301">Les tests</span>, car ils apportent la confiance pour refactoriser et maintenir le code.</p></li></ul></li></ul></section><div class="last-modified">12 octobre 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="009-00-from-apprentice-to-architect.html" class="navigation-links__prev">Module 9 : Conclusion - De l'Apprenti &agrave; l'Architecte</a><a href="010-00-animation.html" class="navigation-links__next">Bonus 1 : L'Art de l'Animation avec @angular/animations - L'essentiel</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>